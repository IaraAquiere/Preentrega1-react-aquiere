function jT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},Jl={},ty={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),BT=Symbol.for("react.portal"),UT=Symbol.for("react.fragment"),zT=Symbol.for("react.strict_mode"),HT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),KT=Symbol.for("react.forward_ref"),QT=Symbol.for("react.suspense"),GT=Symbol.for("react.memo"),YT=Symbol.for("react.lazy"),Pm=Symbol.iterator;function XT(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,iy={};function no(t,e,n){this.props=t,this.context=e,this.refs=iy,this.updater=n||ny}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oy(){}oy.prototype=no.prototype;function kd(t,e,n){this.props=t,this.context=e,this.refs=iy,this.updater=n||ny}var Rd=kd.prototype=new oy;Rd.constructor=kd;ry(Rd,no.prototype);Rd.isPureReactComponent=!0;var km=Array.isArray,sy=Object.prototype.hasOwnProperty,xd={current:null},ay={key:!0,ref:!0,__self:!0,__source:!0};function ly(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)sy.call(e,r)&&!ay.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Us,type:t,key:o,ref:s,props:i,_owner:xd.current}}function JT(t,e){return{$$typeof:Us,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Us}function ZT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rm=/\/+/g;function hc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZT(""+t.key):e.toString(36)}function Wa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Us:case BT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+hc(s,0):r,km(i)?(n="",t!=null&&(n=t.replace(Rm,"$&/")+"/"),Wa(i,e,n,"",function(h){return h})):i!=null&&(bd(i)&&(i=JT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Rm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",km(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+hc(o,l);s+=Wa(o,e,n,u,i)}else if(u=XT(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+hc(o,l++),s+=Wa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ea(t,e,n){if(t==null)return t;var r=[],i=0;return Wa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function eI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},Ka={transition:null},tI={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:xd};ee.Children={map:Ea,forEach:function(t,e,n){Ea(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ea(t,function(){e++}),e},toArray:function(t){return Ea(t,function(e){return e})||[]},only:function(t){if(!bd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=no;ee.Fragment=UT;ee.Profiler=HT;ee.PureComponent=kd;ee.StrictMode=zT;ee.Suspense=QT;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ry({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=xd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)sy.call(e,u)&&!ay.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Us,type:t.type,key:i,ref:o,props:r,_owner:s}};ee.createContext=function(t){return t={$$typeof:WT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qT,_context:t},t.Consumer=t};ee.createElement=ly;ee.createFactory=function(t){var e=ly.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:KT,render:t}};ee.isValidElement=bd;ee.lazy=function(t){return{$$typeof:YT,_payload:{_status:-1,_result:t},_init:eI}};ee.memo=function(t,e){return{$$typeof:GT,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Ka.transition;Ka.transition={};try{t()}finally{Ka.transition=e}};ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ee.useCallback=function(t,e){return pt.current.useCallback(t,e)};ee.useContext=function(t){return pt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return pt.current.useEffect(t,e)};ee.useId=function(){return pt.current.useId()};ee.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return pt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};ee.useRef=function(t){return pt.current.useRef(t)};ee.useState=function(t){return pt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return pt.current.useTransition()};ee.version="18.2.0";ty.exports=ee;var D=ty.exports;const An=Zv(D),nI=jT({__proto__:null,default:An},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=D,iI=Symbol.for("react.element"),oI=Symbol.for("react.fragment"),sI=Object.prototype.hasOwnProperty,aI=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lI={key:!0,ref:!0,__self:!0,__source:!0};function uy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sI.call(e,r)&&!lI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iI,type:t,key:o,ref:s,props:i,_owner:aI.current}}Jl.Fragment=oI;Jl.jsx=uy;Jl.jsxs=uy;ey.exports=Jl;var R=ey.exports,nh={},cy={exports:{}},Dt={},hy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,Q){var N=j.length;j.push(Q);e:for(;0<N;){var ye=N-1>>>1,Re=j[ye];if(0<i(Re,Q))j[ye]=Q,j[N]=Re,N=ye;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Q=j[0],N=j.pop();if(N!==Q){j[0]=N;e:for(var ye=0,Re=j.length,_r=Re>>>1;ye<_r;){var vn=2*(ye+1)-1,S=j[vn],yn=vn+1,wn=j[yn];if(0>i(S,N))yn<Re&&0>i(wn,S)?(j[ye]=wn,j[yn]=N,ye=yn):(j[ye]=S,j[vn]=N,ye=vn);else if(yn<Re&&0>i(wn,N))j[ye]=wn,j[yn]=N,ye=yn;else break e}}return Q}function i(j,Q){var N=j.sortIndex-Q.sortIndex;return N!==0?N:j.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],p=1,m=null,g=3,E=!1,T=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=j)r(h),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(h)}}function A(j){if(I=!1,_(j),!T)if(n(u)!==null)T=!0,go(V);else{var Q=n(h);Q!==null&&vo(A,Q.startTime-j)}}function V(j,Q){T=!1,I&&(I=!1,w(z),z=-1),E=!0;var N=g;try{for(_(Q),m=n(u);m!==null&&(!(m.expirationTime>Q)||j&&!Tt());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,g=m.priorityLevel;var Re=ye(m.expirationTime<=Q);Q=t.unstable_now(),typeof Re=="function"?m.callback=Re:m===n(u)&&r(u),_(Q)}else r(u);m=n(u)}if(m!==null)var _r=!0;else{var vn=n(h);vn!==null&&vo(A,vn.startTime-Q),_r=!1}return _r}finally{m=null,g=N,E=!1}}var $=!1,U=null,z=-1,ue=5,Y=-1;function Tt(){return!(t.unstable_now()-Y<ue)}function Ln(){if(U!==null){var j=t.unstable_now();Y=j;var Q=!0;try{Q=U(!0,j)}finally{Q?wr():($=!1,U=null)}}else $=!1}var wr;if(typeof y=="function")wr=function(){y(Ln)};else if(typeof MessageChannel<"u"){var mo=new MessageChannel,Wu=mo.port2;mo.port1.onmessage=Ln,wr=function(){Wu.postMessage(null)}}else wr=function(){P(Ln,0)};function go(j){U=j,$||($=!0,wr())}function vo(j,Q){z=P(function(){j(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,go(V))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var N=g;g=Q;try{return j()}finally{g=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var N=g;g=j;try{return Q()}finally{g=N}},t.unstable_scheduleCallback=function(j,Q,N){var ye=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?ye+N:ye):N=ye,j){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=N+Re,j={id:p++,callback:Q,priorityLevel:j,startTime:N,expirationTime:Re,sortIndex:-1},N>ye?(j.sortIndex=N,e(h,j),n(u)===null&&j===n(h)&&(I?(w(z),z=-1):I=!0,vo(A,N-ye))):(j.sortIndex=Re,e(u,j),T||E||(T=!0,go(V))),j},t.unstable_shouldYield=Tt,t.unstable_wrapCallback=function(j){var Q=g;return function(){var N=g;g=Q;try{return j.apply(this,arguments)}finally{g=N}}}})(dy);hy.exports=dy;var uI=hy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=D,xt=uI;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var py=new Set,as={};function Xr(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(as[t]=e,t=0;t<e.length;t++)py.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,cI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xm={},bm={};function hI(t){return rh.call(bm,t)?!0:rh.call(xm,t)?!1:cI.test(t)?bm[t]=!0:(xm[t]=!0,!1)}function dI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fI(t,e,n,r){if(e===null||typeof e>"u"||dI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function Vd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dd,Vd);Je[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dd,Vd);Je[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dd,Vd);Je[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nd(t,e,n,r){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fI(e,n,i,r)&&(n=null),r||i===null?hI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Od=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),gy=Symbol.for("react.context"),Ld=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),Md=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),vy=Symbol.for("react.offscreen"),Dm=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=Dm&&t[Dm]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,dc;function Mo(t){if(dc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dc=e&&e[1]||""}return`
`+dc+t}var fc=!1;function pc(t,e){if(!t||fc)return"";fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{fc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function pI(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=pc(t.type,!1),t;case 11:return t=pc(t.type.render,!1),t;case 1:return t=pc(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case ih:return"Profiler";case Od:return"StrictMode";case oh:return"Suspense";case sh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gy:return(t.displayName||"Context")+".Consumer";case my:return(t._context.displayName||"Context")+".Provider";case Ld:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Md:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case jn:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function mI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===Od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gI(t){var e=yy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ia(t){t._valueTracker||(t._valueTracker=gI(t))}function wy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _y(t,e){e=e.checked,e!=null&&Nd(t,"checked",e,!1)}function uh(t,e){_y(t,e);var n=lr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&ch(t,e.type,lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ch(t,e,n){(e!=="number"||ll(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fo=Array.isArray;function ki(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Om(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Fo(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lr(n)}}function Ey(t,e){var n=lr(e.value),r=lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ty(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ty(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sa,Iy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vI=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){vI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function Sy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function Cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yI=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(yI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function ph(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=null;function Fd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gh=null,Ri=null,xi=null;function Mm(t){if(t=qs(t)){if(typeof gh!="function")throw Error(b(280));var e=t.stateNode;e&&(e=ru(e),gh(t.stateNode,t.type,e))}}function Ay(t){Ri?xi?xi.push(t):xi=[t]:Ri=t}function Py(){if(Ri){var t=Ri,e=xi;if(xi=Ri=null,Mm(t),e)for(t=0;t<e.length;t++)Mm(e[t])}}function ky(t,e){return t(e)}function Ry(){}var mc=!1;function xy(t,e,n){if(mc)return t(e,n);mc=!0;try{return ky(t,e,n)}finally{mc=!1,(Ri!==null||xi!==null)&&(Ry(),Py())}}function us(t,e){var n=t.stateNode;if(n===null)return null;var r=ru(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var vh=!1;if(Rn)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){vh=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{vh=!1}function wI(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Ko=!1,ul=null,cl=!1,yh=null,_I={onError:function(t){Ko=!0,ul=t}};function EI(t,e,n,r,i,o,s,l,u){Ko=!1,ul=null,wI.apply(_I,arguments)}function TI(t,e,n,r,i,o,s,l,u){if(EI.apply(this,arguments),Ko){if(Ko){var h=ul;Ko=!1,ul=null}else throw Error(b(198));cl||(cl=!0,yh=h)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function by(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fm(t){if(Jr(t)!==t)throw Error(b(188))}function II(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Fm(i),t;if(o===r)return Fm(i),e;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Dy(t){return t=II(t),t!==null?Vy(t):null}function Vy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vy(t);if(e!==null)return e;t=t.sibling}return null}var Ny=xt.unstable_scheduleCallback,$m=xt.unstable_cancelCallback,SI=xt.unstable_shouldYield,CI=xt.unstable_requestPaint,ke=xt.unstable_now,AI=xt.unstable_getCurrentPriorityLevel,$d=xt.unstable_ImmediatePriority,Oy=xt.unstable_UserBlockingPriority,hl=xt.unstable_NormalPriority,PI=xt.unstable_LowPriority,Ly=xt.unstable_IdlePriority,Zl=null,cn=null;function kI(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Zl,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:bI,RI=Math.log,xI=Math.LN2;function bI(t){return t>>>=0,t===0?32:31-(RI(t)/xI|0)|0}var Ca=64,Aa=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=$o(l):(o&=s,o!==0&&(r=$o(o)))}else s=n&~i,s!==0?r=$o(s):o!==0&&(r=$o(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qt(e),i=1<<n,r|=t[n],e&=~i;return r}function DI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Qt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=DI(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function My(){var t=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),t}function gc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=n}function NI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function jd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function Fy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $y,Bd,jy,By,Uy,_h=!1,Pa=[],Gn=null,Yn=null,Xn=null,cs=new Map,hs=new Map,zn=[],OI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(e.pointerId)}}function ko(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=qs(e),e!==null&&Bd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LI(t,e,n,r,i){switch(e){case"focusin":return Gn=ko(Gn,t,e,n,r,i),!0;case"dragenter":return Yn=ko(Yn,t,e,n,r,i),!0;case"mouseover":return Xn=ko(Xn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return cs.set(o,ko(cs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hs.set(o,ko(hs.get(o)||null,t,e,n,r,i)),!0}return!1}function zy(t){var e=Dr(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=by(n),e!==null){t.blockedOn=e,Uy(t.priority,function(){jy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mh=r,n.target.dispatchEvent(r),mh=null}else return e=qs(n),e!==null&&Bd(e),t.blockedOn=n,!1;e.shift()}return!0}function Bm(t,e,n){Qa(t)&&n.delete(e)}function MI(){_h=!1,Gn!==null&&Qa(Gn)&&(Gn=null),Yn!==null&&Qa(Yn)&&(Yn=null),Xn!==null&&Qa(Xn)&&(Xn=null),cs.forEach(Bm),hs.forEach(Bm)}function Ro(t,e){t.blockedOn===e&&(t.blockedOn=null,_h||(_h=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,MI)))}function ds(t){function e(i){return Ro(i,t)}if(0<Pa.length){Ro(Pa[0],t);for(var n=1;n<Pa.length;n++){var r=Pa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&Ro(Gn,t),Yn!==null&&Ro(Yn,t),Xn!==null&&Ro(Xn,t),cs.forEach(e),hs.forEach(e),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)zy(n),n.blockedOn===null&&zn.shift()}var bi=On.ReactCurrentBatchConfig,fl=!0;function FI(t,e,n,r){var i=ae,o=bi.transition;bi.transition=null;try{ae=1,Ud(t,e,n,r)}finally{ae=i,bi.transition=o}}function $I(t,e,n,r){var i=ae,o=bi.transition;bi.transition=null;try{ae=4,Ud(t,e,n,r)}finally{ae=i,bi.transition=o}}function Ud(t,e,n,r){if(fl){var i=Eh(t,e,n,r);if(i===null)Ac(t,e,r,pl,n),jm(t,r);else if(LI(i,t,e,n,r))r.stopPropagation();else if(jm(t,r),e&4&&-1<OI.indexOf(t)){for(;i!==null;){var o=qs(i);if(o!==null&&$y(o),o=Eh(t,e,n,r),o===null&&Ac(t,e,r,pl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ac(t,e,r,null,n)}}var pl=null;function Eh(t,e,n,r){if(pl=null,t=Fd(r),t=Dr(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=by(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pl=t,null}function Hy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AI()){case $d:return 1;case Oy:return 4;case hl:case PI:return 16;case Ly:return 536870912;default:return 16}default:return 16}}var qn=null,zd=null,Ga=null;function qy(){if(Ga)return Ga;var t,e=zd,n=e.length,r,i="value"in qn?qn.value:qn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ga=i.slice(t,1<r?1-r:void 0)}function Ya(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function Um(){return!1}function Vt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ka:Um,this.isPropagationStopped=Um,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hd=Vt(ro),Hs=Ee({},ro,{view:0,detail:0}),jI=Vt(Hs),vc,yc,xo,eu=Ee({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(vc=t.screenX-xo.screenX,yc=t.screenY-xo.screenY):yc=vc=0,xo=t),vc)},movementY:function(t){return"movementY"in t?t.movementY:yc}}),zm=Vt(eu),BI=Ee({},eu,{dataTransfer:0}),UI=Vt(BI),zI=Ee({},Hs,{relatedTarget:0}),wc=Vt(zI),HI=Ee({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),qI=Vt(HI),WI=Ee({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KI=Vt(WI),QI=Ee({},ro,{data:0}),Hm=Vt(QI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XI[t])?!!e[t]:!1}function qd(){return JI}var ZI=Ee({},Hs,{key:function(t){if(t.key){var e=GI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eS=Vt(ZI),tS=Ee({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Vt(tS),nS=Ee({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),rS=Vt(nS),iS=Ee({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),oS=Vt(iS),sS=Ee({},eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aS=Vt(sS),lS=[9,13,27,32],Wd=Rn&&"CompositionEvent"in window,Qo=null;Rn&&"documentMode"in document&&(Qo=document.documentMode);var uS=Rn&&"TextEvent"in window&&!Qo,Wy=Rn&&(!Wd||Qo&&8<Qo&&11>=Qo),Wm=" ",Km=!1;function Ky(t,e){switch(t){case"keyup":return lS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function cS(t,e){switch(t){case"compositionend":return Qy(e);case"keypress":return e.which!==32?null:(Km=!0,Wm);case"textInput":return t=e.data,t===Wm&&Km?null:t;default:return null}}function hS(t,e){if(vi)return t==="compositionend"||!Wd&&Ky(t,e)?(t=qy(),Ga=zd=qn=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wy&&e.locale!=="ko"?null:e.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dS[t.type]:e==="textarea"}function Gy(t,e,n,r){Ay(r),e=ml(e,"onChange"),0<e.length&&(n=new Hd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Go=null,fs=null;function fS(t){sw(t,0)}function tu(t){var e=_i(t);if(wy(e))return t}function pS(t,e){if(t==="change")return e}var Yy=!1;if(Rn){var _c;if(Rn){var Ec="oninput"in document;if(!Ec){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Ec=typeof Gm.oninput=="function"}_c=Ec}else _c=!1;Yy=_c&&(!document.documentMode||9<document.documentMode)}function Ym(){Go&&(Go.detachEvent("onpropertychange",Xy),fs=Go=null)}function Xy(t){if(t.propertyName==="value"&&tu(fs)){var e=[];Gy(e,fs,t,Fd(t)),xy(fS,e)}}function mS(t,e,n){t==="focusin"?(Ym(),Go=e,fs=n,Go.attachEvent("onpropertychange",Xy)):t==="focusout"&&Ym()}function gS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(fs)}function vS(t,e){if(t==="click")return tu(e)}function yS(t,e){if(t==="input"||t==="change")return tu(e)}function wS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:wS;function ps(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rh.call(e,i)||!Yt(t[i],e[i]))return!1}return!0}function Xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jm(t,e){var n=Xm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xm(n)}}function Jy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zy(){for(var t=window,e=ll();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ll(t.document)}return e}function Kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _S(t){var e=Zy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jy(n.ownerDocument.documentElement,n)){if(r!==null&&Kd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Jm(n,o);var s=Jm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ES=Rn&&"documentMode"in document&&11>=document.documentMode,yi=null,Th=null,Yo=null,Ih=!1;function Zm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ih||yi==null||yi!==ll(r)||(r=yi,"selectionStart"in r&&Kd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yo&&ps(Yo,r)||(Yo=r,r=ml(Th,"onSelect"),0<r.length&&(e=new Hd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yi)))}function Ra(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Tc={},ew={};Rn&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function nu(t){if(Tc[t])return Tc[t];if(!wi[t])return t;var e=wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ew)return Tc[t]=e[n];return t}var tw=nu("animationend"),nw=nu("animationiteration"),rw=nu("animationstart"),iw=nu("transitionend"),ow=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){ow.set(t,e),Xr(e,[t])}for(var Ic=0;Ic<eg.length;Ic++){var Sc=eg[Ic],TS=Sc.toLowerCase(),IS=Sc[0].toUpperCase()+Sc.slice(1);fr(TS,"on"+IS)}fr(tw,"onAnimationEnd");fr(nw,"onAnimationIteration");fr(rw,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(iw,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function tg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TI(r,e,void 0,t),t.currentTarget=null}function sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;tg(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;tg(i,l,h),o=u}}}if(cl)throw t=yh,cl=!1,yh=null,t}function fe(t,e){var n=e[kh];n===void 0&&(n=e[kh]=new Set);var r=t+"__bubble";n.has(r)||(aw(e,t,2,!1),n.add(r))}function Cc(t,e,n){var r=0;e&&(r|=4),aw(n,t,r,e)}var xa="_reactListening"+Math.random().toString(36).slice(2);function ms(t){if(!t[xa]){t[xa]=!0,py.forEach(function(n){n!=="selectionchange"&&(SS.has(n)||Cc(n,!1,t),Cc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xa]||(e[xa]=!0,Cc("selectionchange",!1,e))}}function aw(t,e,n,r){switch(Hy(e)){case 1:var i=FI;break;case 4:i=$I;break;default:i=Ud}n=i.bind(null,e,n,t),i=void 0,!vh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ac(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Dr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}xy(function(){var h=o,p=Fd(n),m=[];e:{var g=ow.get(t);if(g!==void 0){var E=Hd,T=t;switch(t){case"keypress":if(Ya(n)===0)break e;case"keydown":case"keyup":E=eS;break;case"focusin":T="focus",E=wc;break;case"focusout":T="blur",E=wc;break;case"beforeblur":case"afterblur":E=wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=UI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=rS;break;case tw:case nw:case rw:E=qI;break;case iw:E=oS;break;case"scroll":E=jI;break;case"wheel":E=aS;break;case"copy":case"cut":case"paste":E=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=qm}var I=(e&4)!==0,P=!I&&t==="scroll",w=I?g!==null?g+"Capture":null:g;I=[];for(var y=h,_;y!==null;){_=y;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,w!==null&&(A=us(y,w),A!=null&&I.push(gs(y,A,_)))),P)break;y=y.return}0<I.length&&(g=new E(g,T,null,n,p),m.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==mh&&(T=n.relatedTarget||n.fromElement)&&(Dr(T)||T[xn]))break e;if((E||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=h,T=T?Dr(T):null,T!==null&&(P=Jr(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=h),E!==T)){if(I=zm,A="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=qm,A="onPointerLeave",w="onPointerEnter",y="pointer"),P=E==null?g:_i(E),_=T==null?g:_i(T),g=new I(A,y+"leave",E,n,p),g.target=P,g.relatedTarget=_,A=null,Dr(p)===h&&(I=new I(w,y+"enter",T,n,p),I.target=_,I.relatedTarget=P,A=I),P=A,E&&T)t:{for(I=E,w=T,y=0,_=I;_;_=ci(_))y++;for(_=0,A=w;A;A=ci(A))_++;for(;0<y-_;)I=ci(I),y--;for(;0<_-y;)w=ci(w),_--;for(;y--;){if(I===w||w!==null&&I===w.alternate)break t;I=ci(I),w=ci(w)}I=null}else I=null;E!==null&&ng(m,g,E,I,!1),T!==null&&P!==null&&ng(m,P,T,I,!0)}}e:{if(g=h?_i(h):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var V=pS;else if(Qm(g))if(Yy)V=yS;else{V=gS;var $=mS}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=vS);if(V&&(V=V(t,h))){Gy(m,V,n,p);break e}$&&$(t,g,h),t==="focusout"&&($=g._wrapperState)&&$.controlled&&g.type==="number"&&ch(g,"number",g.value)}switch($=h?_i(h):window,t){case"focusin":(Qm($)||$.contentEditable==="true")&&(yi=$,Th=h,Yo=null);break;case"focusout":Yo=Th=yi=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Zm(m,n,p);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Zm(m,n,p)}var U;if(Wd)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else vi?Ky(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Wy&&n.locale!=="ko"&&(vi||z!=="onCompositionStart"?z==="onCompositionEnd"&&vi&&(U=qy()):(qn=p,zd="value"in qn?qn.value:qn.textContent,vi=!0)),$=ml(h,z),0<$.length&&(z=new Hm(z,t,null,n,p),m.push({event:z,listeners:$}),U?z.data=U:(U=Qy(n),U!==null&&(z.data=U)))),(U=uS?cS(t,n):hS(t,n))&&(h=ml(h,"onBeforeInput"),0<h.length&&(p=new Hm("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=U))}sw(m,e)})}function gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ml(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=us(t,n),o!=null&&r.unshift(gs(t,o,i)),o=us(t,e),o!=null&&r.push(gs(t,o,i))),t=t.return}return r}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ng(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=us(n,o),u!=null&&s.unshift(gs(n,u,l))):i||(u=us(n,o),u!=null&&s.push(gs(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var CS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function rg(t){return(typeof t=="string"?t:""+t).replace(CS,`
`).replace(AS,"")}function ba(t,e,n){if(e=rg(e),rg(t)!==e&&n)throw Error(b(425))}function gl(){}var Sh=null,Ch=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,ig=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof ig<"u"?function(t){return ig.resolve(null).then(t).catch(RS)}:Ph;function RS(t){setTimeout(function(){throw t})}function Pc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ds(e)}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var io=Math.random().toString(36).slice(2),on="__reactFiber$"+io,vs="__reactProps$"+io,xn="__reactContainer$"+io,kh="__reactEvents$"+io,xS="__reactListeners$"+io,bS="__reactHandles$"+io;function Dr(t){var e=t[on];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xn]||n[on]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=og(t);t!==null;){if(n=t[on])return n;t=og(t)}return e}t=n,n=t.parentNode}return null}function qs(t){return t=t[on]||t[xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function ru(t){return t[vs]||null}var Rh=[],Ei=-1;function pr(t){return{current:t}}function ge(t){0>Ei||(t.current=Rh[Ei],Rh[Ei]=null,Ei--)}function he(t,e){Ei++,Rh[Ei]=t.current,t.current=e}var ur={},lt=pr(ur),wt=pr(!1),Ur=ur;function $i(t,e){var n=t.type.contextTypes;if(!n)return ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function vl(){ge(wt),ge(lt)}function sg(t,e,n){if(lt.current!==ur)throw Error(b(168));he(lt,e),he(wt,n)}function lw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,mI(t)||"Unknown",i));return Ee({},n,r)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ur,Ur=lt.current,he(lt,t),he(wt,wt.current),!0}function ag(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=lw(t,e,Ur),r.__reactInternalMemoizedMergedChildContext=t,ge(wt),ge(lt),he(lt,t)):ge(wt),he(wt,n)}var Tn=null,iu=!1,kc=!1;function uw(t){Tn===null?Tn=[t]:Tn.push(t)}function DS(t){iu=!0,uw(t)}function mr(){if(!kc&&Tn!==null){kc=!0;var t=0,e=ae;try{var n=Tn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,iu=!1}catch(i){throw Tn!==null&&(Tn=Tn.slice(t+1)),Ny($d,mr),i}finally{ae=e,kc=!1}}return null}var Ti=[],Ii=0,wl=null,_l=0,Ot=[],Lt=0,zr=null,In=1,Sn="";function Pr(t,e){Ti[Ii++]=_l,Ti[Ii++]=wl,wl=t,_l=e}function cw(t,e,n){Ot[Lt++]=In,Ot[Lt++]=Sn,Ot[Lt++]=zr,zr=t;var r=In;t=Sn;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var o=32-Qt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,In=1<<32-Qt(e)+i|n<<i|r,Sn=o+t}else In=1<<o|n<<i|r,Sn=t}function Qd(t){t.return!==null&&(Pr(t,1),cw(t,1,0))}function Gd(t){for(;t===wl;)wl=Ti[--Ii],Ti[Ii]=null,_l=Ti[--Ii],Ti[Ii]=null;for(;t===zr;)zr=Ot[--Lt],Ot[Lt]=null,Sn=Ot[--Lt],Ot[Lt]=null,In=Ot[--Lt],Ot[Lt]=null}var kt=null,Pt=null,ve=!1,Wt=null;function hw(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,Pt=Jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zr!==null?{id:In,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,Pt=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bh(t){if(ve){var e=Pt;if(e){var n=e;if(!lg(t,e)){if(xh(t))throw Error(b(418));e=Jn(n.nextSibling);var r=kt;e&&lg(t,e)?hw(r,n):(t.flags=t.flags&-4097|2,ve=!1,kt=t)}}else{if(xh(t))throw Error(b(418));t.flags=t.flags&-4097|2,ve=!1,kt=t}}}function ug(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Da(t){if(t!==kt)return!1;if(!ve)return ug(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=Pt)){if(xh(t))throw dw(),Error(b(418));for(;e;)hw(t,e),e=Jn(e.nextSibling)}if(ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=Jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=kt?Jn(t.stateNode.nextSibling):null;return!0}function dw(){for(var t=Pt;t;)t=Jn(t.nextSibling)}function ji(){Pt=kt=null,ve=!1}function Yd(t){Wt===null?Wt=[t]:Wt.push(t)}var VS=On.ReactCurrentBatchConfig;function Ht(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var El=pr(null),Tl=null,Si=null,Xd=null;function Jd(){Xd=Si=Tl=null}function Zd(t){var e=El.current;ge(El),t._currentValue=e}function Dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Di(t,e){Tl=t,Xd=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function Bt(t){var e=t._currentValue;if(Xd!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(Tl===null)throw Error(b(308));Si=t,Tl.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var Vr=null;function ef(t){Vr===null?Vr=[t]:Vr.push(t)}function fw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ef(e)):(n.next=i.next,i.next=n),e.interleaved=n,bn(t,r)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bn(t,n)}return i=r.interleaved,i===null?(e.next=e,ef(r)):(e.next=i.next,i.next=e),r.interleaved=e,bn(t,n)}function Xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jd(t,n)}}function cg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Il(t,e,n,r){var i=t.updateQueue;Bn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;s=0,p=h=u=null,l=o;do{var g=l.lane,E=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,I=l;switch(g=e,E=n,I.tag){case 1:if(T=I.payload,typeof T=="function"){m=T.call(E,m,g);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=I.payload,g=typeof T=="function"?T.call(E,m,g):T,g==null)break e;m=Ee({},m,g);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else E={eventTime:E,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=E,u=m):p=p.next=E,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qr|=s,t.lanes=s,t.memoizedState=m}}function hg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var mw=new fy.Component().refs;function Vh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ou={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=tr(t),o=Pn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(Gt(e,t,i,r),Xa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=tr(t),o=Pn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(Gt(e,t,i,r),Xa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=tr(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zn(t,i,r),e!==null&&(Gt(e,t,r,n),Xa(e,t,r))}};function dg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ps(n,r)||!ps(i,o):!0}function gw(t,e,n){var r=!1,i=ur,o=e.contextType;return typeof o=="object"&&o!==null?o=Bt(o):(i=_t(e)?Ur:lt.current,r=e.contextTypes,o=(r=r!=null)?$i(t,i):ur),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ou,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ou.enqueueReplaceState(e,e.state,null)}function Nh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mw,tf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Bt(o):(o=_t(e)?Ur:lt.current,i.context=$i(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Vh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ou.enqueueReplaceState(i,i.state,null),Il(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===mw&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pg(t){var e=t._init;return e(t._payload)}function vw(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=nr(w,y),w.index=0,w.sibling=null,w}function o(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,_,A){return y===null||y.tag!==6?(y=Oc(_,w.mode,A),y.return=w,y):(y=i(y,_),y.return=w,y)}function u(w,y,_,A){var V=_.type;return V===gi?p(w,y,_.props.children,A,_.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===jn&&pg(V)===y.type)?(A=i(y,_.props),A.ref=bo(w,y,_),A.return=w,A):(A=rl(_.type,_.key,_.props,null,w.mode,A),A.ref=bo(w,y,_),A.return=w,A)}function h(w,y,_,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Lc(_,w.mode,A),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function p(w,y,_,A,V){return y===null||y.tag!==7?(y=jr(_,w.mode,A,V),y.return=w,y):(y=i(y,_),y.return=w,y)}function m(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Oc(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ta:return _=rl(y.type,y.key,y.props,null,w.mode,_),_.ref=bo(w,null,y),_.return=w,_;case mi:return y=Lc(y,w.mode,_),y.return=w,y;case jn:var A=y._init;return m(w,A(y._payload),_)}if(Fo(y)||Ao(y))return y=jr(y,w.mode,_,null),y.return=w,y;Va(w,y)}return null}function g(w,y,_,A){var V=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:l(w,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ta:return _.key===V?u(w,y,_,A):null;case mi:return _.key===V?h(w,y,_,A):null;case jn:return V=_._init,g(w,y,V(_._payload),A)}if(Fo(_)||Ao(_))return V!==null?null:p(w,y,_,A,null);Va(w,_)}return null}function E(w,y,_,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(_)||null,l(y,w,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ta:return w=w.get(A.key===null?_:A.key)||null,u(y,w,A,V);case mi:return w=w.get(A.key===null?_:A.key)||null,h(y,w,A,V);case jn:var $=A._init;return E(w,y,_,$(A._payload),V)}if(Fo(A)||Ao(A))return w=w.get(_)||null,p(y,w,A,V,null);Va(y,A)}return null}function T(w,y,_,A){for(var V=null,$=null,U=y,z=y=0,ue=null;U!==null&&z<_.length;z++){U.index>z?(ue=U,U=null):ue=U.sibling;var Y=g(w,U,_[z],A);if(Y===null){U===null&&(U=ue);break}t&&U&&Y.alternate===null&&e(w,U),y=o(Y,y,z),$===null?V=Y:$.sibling=Y,$=Y,U=ue}if(z===_.length)return n(w,U),ve&&Pr(w,z),V;if(U===null){for(;z<_.length;z++)U=m(w,_[z],A),U!==null&&(y=o(U,y,z),$===null?V=U:$.sibling=U,$=U);return ve&&Pr(w,z),V}for(U=r(w,U);z<_.length;z++)ue=E(U,w,z,_[z],A),ue!==null&&(t&&ue.alternate!==null&&U.delete(ue.key===null?z:ue.key),y=o(ue,y,z),$===null?V=ue:$.sibling=ue,$=ue);return t&&U.forEach(function(Tt){return e(w,Tt)}),ve&&Pr(w,z),V}function I(w,y,_,A){var V=Ao(_);if(typeof V!="function")throw Error(b(150));if(_=V.call(_),_==null)throw Error(b(151));for(var $=V=null,U=y,z=y=0,ue=null,Y=_.next();U!==null&&!Y.done;z++,Y=_.next()){U.index>z?(ue=U,U=null):ue=U.sibling;var Tt=g(w,U,Y.value,A);if(Tt===null){U===null&&(U=ue);break}t&&U&&Tt.alternate===null&&e(w,U),y=o(Tt,y,z),$===null?V=Tt:$.sibling=Tt,$=Tt,U=ue}if(Y.done)return n(w,U),ve&&Pr(w,z),V;if(U===null){for(;!Y.done;z++,Y=_.next())Y=m(w,Y.value,A),Y!==null&&(y=o(Y,y,z),$===null?V=Y:$.sibling=Y,$=Y);return ve&&Pr(w,z),V}for(U=r(w,U);!Y.done;z++,Y=_.next())Y=E(U,w,z,Y.value,A),Y!==null&&(t&&Y.alternate!==null&&U.delete(Y.key===null?z:Y.key),y=o(Y,y,z),$===null?V=Y:$.sibling=Y,$=Y);return t&&U.forEach(function(Ln){return e(w,Ln)}),ve&&Pr(w,z),V}function P(w,y,_,A){if(typeof _=="object"&&_!==null&&_.type===gi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ta:e:{for(var V=_.key,$=y;$!==null;){if($.key===V){if(V=_.type,V===gi){if($.tag===7){n(w,$.sibling),y=i($,_.props.children),y.return=w,w=y;break e}}else if($.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===jn&&pg(V)===$.type){n(w,$.sibling),y=i($,_.props),y.ref=bo(w,$,_),y.return=w,w=y;break e}n(w,$);break}else e(w,$);$=$.sibling}_.type===gi?(y=jr(_.props.children,w.mode,A,_.key),y.return=w,w=y):(A=rl(_.type,_.key,_.props,null,w.mode,A),A.ref=bo(w,y,_),A.return=w,w=A)}return s(w);case mi:e:{for($=_.key;y!==null;){if(y.key===$)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Lc(_,w.mode,A),y.return=w,w=y}return s(w);case jn:return $=_._init,P(w,y,$(_._payload),A)}if(Fo(_))return T(w,y,_,A);if(Ao(_))return I(w,y,_,A);Va(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,_),y.return=w,w=y):(n(w,y),y=Oc(_,w.mode,A),y.return=w,w=y),s(w)):n(w,y)}return P}var Bi=vw(!0),yw=vw(!1),Ws={},hn=pr(Ws),ys=pr(Ws),ws=pr(Ws);function Nr(t){if(t===Ws)throw Error(b(174));return t}function nf(t,e){switch(he(ws,e),he(ys,t),he(hn,Ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dh(e,t)}ge(hn),he(hn,e)}function Ui(){ge(hn),ge(ys),ge(ws)}function ww(t){Nr(ws.current);var e=Nr(hn.current),n=dh(e,t.type);e!==n&&(he(ys,t),he(hn,n))}function rf(t){ys.current===t&&(ge(hn),ge(ys))}var we=pr(0);function Sl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rc=[];function of(){for(var t=0;t<Rc.length;t++)Rc[t]._workInProgressVersionPrimary=null;Rc.length=0}var Ja=On.ReactCurrentDispatcher,xc=On.ReactCurrentBatchConfig,Hr=0,_e=null,Oe=null,Be=null,Cl=!1,Xo=!1,_s=0,NS=0;function et(){throw Error(b(321))}function sf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function af(t,e,n,r,i,o){if(Hr=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ja.current=t===null||t.memoizedState===null?FS:$S,t=n(r,i),Xo){o=0;do{if(Xo=!1,_s=0,25<=o)throw Error(b(301));o+=1,Be=Oe=null,e.updateQueue=null,Ja.current=jS,t=n(r,i)}while(Xo)}if(Ja.current=Al,e=Oe!==null&&Oe.next!==null,Hr=0,Be=Oe=_e=null,Cl=!1,e)throw Error(b(300));return t}function lf(){var t=_s!==0;return _s=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?_e.memoizedState=Be=t:Be=Be.next=t,Be}function Ut(){if(Oe===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Be===null?_e.memoizedState:Be.next;if(e!==null)Be=e,Oe=t;else{if(t===null)throw Error(b(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Be===null?_e.memoizedState=Be=t:Be=Be.next=t}return Be}function Es(t,e){return typeof e=="function"?e(t):e}function bc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Oe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var p=h.lane;if((Hr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,s=r):u=u.next=m,_e.lanes|=p,qr|=p}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,Yt(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_e.lanes|=o,qr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Yt(o,e.memoizedState)||(yt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _w(){}function Ew(t,e){var n=_e,r=Ut(),i=e(),o=!Yt(r.memoizedState,i);if(o&&(r.memoizedState=i,yt=!0),r=r.queue,uf(Sw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Ts(9,Iw.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(b(349));Hr&30||Tw(n,e,i)}return i}function Tw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Iw(t,e,n,r){e.value=n,e.getSnapshot=r,Cw(e)&&Aw(t)}function Sw(t,e,n){return n(function(){Cw(e)&&Aw(t)})}function Cw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function Aw(t){var e=bn(t,1);e!==null&&Gt(e,t,1,-1)}function mg(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},e.queue=t,t=t.dispatch=MS.bind(null,_e,t),[e.memoizedState,t]}function Ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pw(){return Ut().memoizedState}function Za(t,e,n,r){var i=rn();_e.flags|=t,i.memoizedState=Ts(1|e,n,void 0,r===void 0?null:r)}function su(t,e,n,r){var i=Ut();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var s=Oe.memoizedState;if(o=s.destroy,r!==null&&sf(r,s.deps)){i.memoizedState=Ts(e,n,o,r);return}}_e.flags|=t,i.memoizedState=Ts(1|e,n,o,r)}function gg(t,e){return Za(8390656,8,t,e)}function uf(t,e){return su(2048,8,t,e)}function kw(t,e){return su(4,2,t,e)}function Rw(t,e){return su(4,4,t,e)}function xw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bw(t,e,n){return n=n!=null?n.concat([t]):null,su(4,4,xw.bind(null,e,t),n)}function cf(){}function Dw(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vw(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Nw(t,e,n){return Hr&21?(Yt(n,e)||(n=My(),_e.lanes|=n,qr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function OS(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=xc.transition;xc.transition={};try{t(!1),e()}finally{ae=n,xc.transition=r}}function Ow(){return Ut().memoizedState}function LS(t,e,n){var r=tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lw(t))Mw(e,n);else if(n=fw(t,e,n,r),n!==null){var i=ft();Gt(n,t,r,i),Fw(n,e,r)}}function MS(t,e,n){var r=tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lw(t))Mw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Yt(l,s)){var u=e.interleaved;u===null?(i.next=i,ef(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=fw(t,e,i,r),n!==null&&(i=ft(),Gt(n,t,r,i),Fw(n,e,r))}}function Lw(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function Mw(t,e){Xo=Cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jd(t,n)}}var Al={readContext:Bt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},FS={readContext:Bt,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:gg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Za(4194308,4,xw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Za(4194308,4,t,e)},useInsertionEffect:function(t,e){return Za(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LS.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:mg,useDebugValue:cf,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=mg(!1),e=t[0];return t=OS.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=rn();if(ve){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),Ue===null)throw Error(b(349));Hr&30||Tw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gg(Sw.bind(null,r,o,t),[t]),r.flags|=2048,Ts(9,Iw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=rn(),e=Ue.identifierPrefix;if(ve){var n=Sn,r=In;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$S={readContext:Bt,useCallback:Dw,useContext:Bt,useEffect:uf,useImperativeHandle:bw,useInsertionEffect:kw,useLayoutEffect:Rw,useMemo:Vw,useReducer:bc,useRef:Pw,useState:function(){return bc(Es)},useDebugValue:cf,useDeferredValue:function(t){var e=Ut();return Nw(e,Oe.memoizedState,t)},useTransition:function(){var t=bc(Es)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:_w,useSyncExternalStore:Ew,useId:Ow,unstable_isNewReconciler:!1},jS={readContext:Bt,useCallback:Dw,useContext:Bt,useEffect:uf,useImperativeHandle:bw,useInsertionEffect:kw,useLayoutEffect:Rw,useMemo:Vw,useReducer:Dc,useRef:Pw,useState:function(){return Dc(Es)},useDebugValue:cf,useDeferredValue:function(t){var e=Ut();return Oe===null?e.memoizedState=t:Nw(e,Oe.memoizedState,t)},useTransition:function(){var t=Dc(Es)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:_w,useSyncExternalStore:Ew,useId:Ow,unstable_isNewReconciler:!1};function zi(t,e){try{var n="",r=e;do n+=pI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Vc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Oh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BS=typeof WeakMap=="function"?WeakMap:Map;function $w(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kl||(kl=!0,qh=r),Oh(t,e)},n}function jw(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Oh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Oh(t,e),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function vg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tC.bind(null,t,e,n),e.then(t,t))}function yg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,Zn(n,e,1))),n.lanes|=1),t)}var US=On.ReactCurrentOwner,yt=!1;function ht(t,e,n,r){e.child=t===null?yw(e,null,n,r):Bi(e,t.child,n,r)}function _g(t,e,n,r,i){n=n.render;var o=e.ref;return Di(e,i),r=af(t,e,n,r,o,i),n=lf(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&n&&Qd(e),e.flags|=1,ht(t,e,r,i),e.child)}function Eg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Bw(t,e,o,r,i)):(t=rl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(s,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=nr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Bw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ps(o,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return Lh(t,e,n,r,i)}function Uw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ai,At),At|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Ai,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(Ai,At),At|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,he(Ai,At),At|=r;return ht(t,e,i,n),e.child}function zw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lh(t,e,n,r,i){var o=_t(n)?Ur:lt.current;return o=$i(e,o),Di(e,i),n=af(t,e,n,r,o,i),r=lf(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&r&&Qd(e),e.flags|=1,ht(t,e,n,i),e.child)}function Tg(t,e,n,r,i){if(_t(n)){var o=!0;yl(e)}else o=!1;if(Di(e,i),e.stateNode===null)el(t,e),gw(e,n,r),Nh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Bt(h):(h=_t(n)?Ur:lt.current,h=$i(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&fg(e,s,r,h),Bn=!1;var g=e.memoizedState;s.state=g,Il(e,r,s,i),u=e.memoizedState,l!==r||g!==u||wt.current||Bn?(typeof p=="function"&&(Vh(e,n,p,r),u=e.memoizedState),(l=Bn||dg(e,n,l,r,g,u,h))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,pw(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ht(e.type,l),s.props=h,m=e.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bt(u):(u=_t(n)?Ur:lt.current,u=$i(e,u));var E=n.getDerivedStateFromProps;(p=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||g!==u)&&fg(e,s,r,u),Bn=!1,g=e.memoizedState,s.state=g,Il(e,r,s,i);var T=e.memoizedState;l!==m||g!==T||wt.current||Bn?(typeof E=="function"&&(Vh(e,n,E,r),T=e.memoizedState),(h=Bn||dg(e,n,h,r,g,T,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),s.props=r,s.state=T,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Mh(t,e,n,r,o,i)}function Mh(t,e,n,r,i,o){zw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ag(e,n,!1),Dn(t,e,o);r=e.stateNode,US.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Bi(e,t.child,null,o),e.child=Bi(e,null,l,o)):ht(t,e,l,o),e.memoizedState=r.state,i&&ag(e,n,!0),e.child}function Hw(t){var e=t.stateNode;e.pendingContext?sg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sg(t,e.context,!1),nf(t,e.containerInfo)}function Ig(t,e,n,r,i){return ji(),Yd(i),e.flags|=256,ht(t,e,n,r),e.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function $h(t){return{baseLanes:t,cachePool:null,transitions:null}}function qw(t,e,n){var r=e.pendingProps,i=we.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(we,i&1),t===null)return bh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=uu(s,r,0,null),t=jr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$h(n),e.memoizedState=Fh,t):hf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return zS(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=nr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=nr(l,o):(o=jr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?$h(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Fh,r}return o=t.child,t=o.sibling,r=nr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hf(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Na(t,e,n,r){return r!==null&&Yd(r),Bi(e,t.child,null,n),t=hf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Vc(Error(b(422))),Na(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=uu({mode:"visible",children:r.children},i,0,null),o=jr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Bi(e,t.child,null,s),e.child.memoizedState=$h(s),e.memoizedState=Fh,o);if(!(e.mode&1))return Na(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(b(419)),r=Vc(o,r,void 0),Na(t,e,s,r)}if(l=(s&t.childLanes)!==0,yt||l){if(r=Ue,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bn(t,i),Gt(r,t,i,-1))}return vf(),r=Vc(Error(b(421))),Na(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pt=Jn(i.nextSibling),kt=e,ve=!0,Wt=null,t!==null&&(Ot[Lt++]=In,Ot[Lt++]=Sn,Ot[Lt++]=zr,In=t.id,Sn=t.overflow,zr=e),e=hf(e,r.children),e.flags|=4096,e)}function Sg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dh(t.return,e,n)}function Nc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ww(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ht(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sg(t,n,e);else if(t.tag===19)Sg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nc(e,!0,n,null,o);break;case"together":Nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function el(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HS(t,e,n){switch(e.tag){case 3:Hw(e),ji();break;case 5:ww(e);break;case 1:_t(e.type)&&yl(e);break;case 4:nf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(El,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?qw(t,e,n):(he(we,we.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ww(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,Uw(t,e,n)}return Dn(t,e,n)}var Kw,jh,Qw,Gw;Kw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jh=function(){};Qw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nr(hn.current);var o=null;switch(n){case"input":i=lh(t,i),r=lh(t,r),o=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":i=hh(t,i),r=hh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gl)}fh(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(as.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(as.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&fe("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Gw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qS(t,e,n){var r=e.pendingProps;switch(Gd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return _t(e.type)&&vl(),tt(e),null;case 3:return r=e.stateNode,Ui(),ge(wt),ge(lt),of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wt!==null&&(Qh(Wt),Wt=null))),jh(t,e),tt(e),null;case 5:rf(e);var i=Nr(ws.current);if(n=e.type,t!==null&&e.stateNode!=null)Qw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return tt(e),null}if(t=Nr(hn.current),Da(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[on]=e,r[vs]=o,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<jo.length;i++)fe(jo[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Vm(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Om(r,o),fe("invalid",r)}fh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ba(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ba(r.textContent,l,t),i=["children",""+l]):as.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ia(r),Nm(r,o,!0);break;case"textarea":Ia(r),Lm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ty(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[on]=e,t[vs]=r,Kw(t,e,!1,!1),e.stateNode=t;e:{switch(s=ph(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<jo.length;i++)fe(jo[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":Vm(t,r),i=lh(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),fe("invalid",t);break;case"textarea":Om(t,r),i=hh(t,r),fe("invalid",t);break;default:i=r}fh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Cy(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Iy(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ls(t,u):typeof u=="number"&&ls(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(as.hasOwnProperty(o)?u!=null&&o==="onScroll"&&fe("scroll",t):u!=null&&Nd(t,o,u,s))}switch(n){case"input":Ia(t),Nm(t,r,!1);break;case"textarea":Ia(t),Lm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ki(t,!!r.multiple,o,!1):r.defaultValue!=null&&ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)Gw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Nr(ws.current),Nr(hn.current),Da(e)){if(r=e.stateNode,n=e.memoizedProps,r[on]=e,(o=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:ba(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ba(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[on]=e,e.stateNode=r}return tt(e),null;case 13:if(ge(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Pt!==null&&e.mode&1&&!(e.flags&128))dw(),ji(),e.flags|=98560,o=!1;else if(o=Da(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(b(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[on]=e}else ji(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),o=!1}else Wt!==null&&(Qh(Wt),Wt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Le===0&&(Le=3):vf())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Ui(),jh(t,e),t===null&&ms(e.stateNode.containerInfo),tt(e),null;case 10:return Zd(e.type._context),tt(e),null;case 17:return _t(e.type)&&vl(),tt(e),null;case 19:if(ge(we),o=e.memoizedState,o===null)return tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Do(o,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Sl(t),s!==null){for(e.flags|=128,Do(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(we,we.current&1|2),e.child}t=t.sibling}o.tail!==null&&ke()>Hi&&(e.flags|=128,r=!0,Do(o,!1),e.lanes=4194304)}else{if(!r)if(t=Sl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ve)return tt(e),null}else 2*ke()-o.renderingStartTime>Hi&&n!==1073741824&&(e.flags|=128,r=!0,Do(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,n=we.current,he(we,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return gf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function WS(t,e){switch(Gd(e),e.tag){case 1:return _t(e.type)&&vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),ge(wt),ge(lt),of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rf(e),null;case 13:if(ge(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(we),null;case 4:return Ui(),null;case 10:return Zd(e.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var Oa=!1,it=!1,KS=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function Bh(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Cg=!1;function QS(t,e){if(Sh=fl,t=Zy(),Kd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,p=0,m=t,g=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(l=s+i),m!==o||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++h===i&&(l=s),g===o&&++p===r&&(u=s),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ch={focusedElem:t,selectionRange:n},fl=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,P=T.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?I:Ht(e.type,I),P);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(A){Se(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return T=Cg,Cg=!1,T}function Jo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bh(e,n,o)}i=i.next}while(i!==r)}}function au(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yw(t){var e=t.alternate;e!==null&&(t.alternate=null,Yw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[vs],delete e[kh],delete e[xS],delete e[bS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xw(t){return t.tag===5||t.tag===3||t.tag===4}function Ag(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gl));else if(r!==4&&(t=t.child,t!==null))for(zh(t,e,n),t=t.sibling;t!==null;)zh(t,e,n),t=t.sibling}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}var qe=null,qt=!1;function $n(t,e,n){for(n=n.child;n!==null;)Jw(t,e,n),n=n.sibling}function Jw(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Zl,n)}catch{}switch(n.tag){case 5:it||Ci(n,e);case 6:var r=qe,i=qt;qe=null,$n(t,e,n),qe=r,qt=i,qe!==null&&(qt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(qt?(t=qe,n=n.stateNode,t.nodeType===8?Pc(t.parentNode,n):t.nodeType===1&&Pc(t,n),ds(t)):Pc(qe,n.stateNode));break;case 4:r=qe,i=qt,qe=n.stateNode.containerInfo,qt=!0,$n(t,e,n),qe=r,qt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Bh(n,e,s),i=i.next}while(i!==r)}$n(t,e,n);break;case 1:if(!it&&(Ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,e,l)}$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,$n(t,e,n),it=r):$n(t,e,n);break;default:$n(t,e,n)}}function Pg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KS),e.forEach(function(r){var i=rC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,qt=!1;break e;case 3:qe=l.stateNode.containerInfo,qt=!0;break e;case 4:qe=l.stateNode.containerInfo,qt=!0;break e}l=l.return}if(qe===null)throw Error(b(160));Jw(o,s,i),qe=null,qt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Se(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zw(e,t),e=e.sibling}function Zw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),nn(t),r&4){try{Jo(3,t,t.return),au(3,t)}catch(I){Se(t,t.return,I)}try{Jo(5,t,t.return)}catch(I){Se(t,t.return,I)}}break;case 1:zt(e,t),nn(t),r&512&&n!==null&&Ci(n,n.return);break;case 5:if(zt(e,t),nn(t),r&512&&n!==null&&Ci(n,n.return),t.flags&32){var i=t.stateNode;try{ls(i,"")}catch(I){Se(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&_y(i,o),ph(l,s);var h=ph(l,o);for(s=0;s<u.length;s+=2){var p=u[s],m=u[s+1];p==="style"?Cy(i,m):p==="dangerouslySetInnerHTML"?Iy(i,m):p==="children"?ls(i,m):Nd(i,p,m,h)}switch(l){case"input":uh(i,o);break;case"textarea":Ey(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?ki(i,!!o.multiple,E,!1):g!==!!o.multiple&&(o.defaultValue!=null?ki(i,!!o.multiple,o.defaultValue,!0):ki(i,!!o.multiple,o.multiple?[]:"",!1))}i[vs]=o}catch(I){Se(t,t.return,I)}}break;case 6:if(zt(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){Se(t,t.return,I)}}break;case 3:if(zt(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(e.containerInfo)}catch(I){Se(t,t.return,I)}break;case 4:zt(e,t),nn(t);break;case 13:zt(e,t),nn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(pf=ke())),r&4&&Pg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(it=(h=it)||p,zt(e,t),it=h):zt(e,t),nn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(B=t,p=t.child;p!==null;){for(m=B=p;B!==null;){switch(g=B,E=g.child,g.tag){case 0:case 11:case 14:case 15:Jo(4,g,g.return);break;case 1:Ci(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(I){Se(r,n,I)}}break;case 5:Ci(g,g.return);break;case 22:if(g.memoizedState!==null){Rg(m);continue}}E!==null?(E.return=g,B=E):Rg(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Sy("display",s))}catch(I){Se(t,t.return,I)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(I){Se(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:zt(e,t),nn(t),r&4&&Pg(t);break;case 21:break;default:zt(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xw(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ls(i,""),r.flags&=-33);var o=Ag(t);Hh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Ag(t);zh(t,l,s);break;default:throw Error(b(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GS(t,e,n){B=t,e0(t)}function e0(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Oa;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||it;l=Oa;var h=it;if(Oa=s,(it=u)&&!h)for(B=i;B!==null;)s=B,u=s.child,s.tag===22&&s.memoizedState!==null?xg(i):u!==null?(u.return=s,B=u):xg(i);for(;o!==null;)B=o,e0(o),o=o.sibling;B=i,Oa=l,it=h}kg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,B=o):kg(t)}}function kg(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||au(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ht(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hg(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&ds(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}it||e.flags&512&&Uh(e)}catch(g){Se(e,e.return,g)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Rg(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function xg(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{au(4,e)}catch(u){Se(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Se(e,i,u)}}var o=e.return;try{Uh(e)}catch(u){Se(e,o,u)}break;case 5:var s=e.return;try{Uh(e)}catch(u){Se(e,s,u)}}}catch(u){Se(e,e.return,u)}if(e===t){B=null;break}var l=e.sibling;if(l!==null){l.return=e.return,B=l;break}B=e.return}}var YS=Math.ceil,Pl=On.ReactCurrentDispatcher,df=On.ReactCurrentOwner,jt=On.ReactCurrentBatchConfig,ie=0,Ue=null,De=null,Ge=0,At=0,Ai=pr(0),Le=0,Is=null,qr=0,lu=0,ff=0,Zo=null,vt=null,pf=0,Hi=1/0,En=null,kl=!1,qh=null,er=null,La=!1,Wn=null,Rl=0,es=0,Wh=null,tl=-1,nl=0;function ft(){return ie&6?ke():tl!==-1?tl:tl=ke()}function tr(t){return t.mode&1?ie&2&&Ge!==0?Ge&-Ge:VS.transition!==null?(nl===0&&(nl=My()),nl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Hy(t.type)),t):1}function Gt(t,e,n,r){if(50<es)throw es=0,Wh=null,Error(b(185));zs(t,n,r),(!(ie&2)||t!==Ue)&&(t===Ue&&(!(ie&2)&&(lu|=n),Le===4&&Hn(t,Ge)),Et(t,r),n===1&&ie===0&&!(e.mode&1)&&(Hi=ke()+500,iu&&mr()))}function Et(t,e){var n=t.callbackNode;VI(t,e);var r=dl(t,t===Ue?Ge:0);if(r===0)n!==null&&$m(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$m(n),e===1)t.tag===0?DS(bg.bind(null,t)):uw(bg.bind(null,t)),kS(function(){!(ie&6)&&mr()}),n=null;else{switch(Fy(r)){case 1:n=$d;break;case 4:n=Oy;break;case 16:n=hl;break;case 536870912:n=Ly;break;default:n=hl}n=l0(n,t0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function t0(t,e){if(tl=-1,nl=0,ie&6)throw Error(b(327));var n=t.callbackNode;if(Vi()&&t.callbackNode!==n)return null;var r=dl(t,t===Ue?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xl(t,r);else{e=r;var i=ie;ie|=2;var o=r0();(Ue!==t||Ge!==e)&&(En=null,Hi=ke()+500,$r(t,e));do try{ZS();break}catch(l){n0(t,l)}while(!0);Jd(),Pl.current=o,ie=i,De!==null?e=0:(Ue=null,Ge=0,e=Le)}if(e!==0){if(e===2&&(i=wh(t),i!==0&&(r=i,e=Kh(t,i))),e===1)throw n=Is,$r(t,0),Hn(t,r),Et(t,ke()),n;if(e===6)Hn(t,r);else{if(i=t.current.alternate,!(r&30)&&!XS(i)&&(e=xl(t,r),e===2&&(o=wh(t),o!==0&&(r=o,e=Kh(t,o))),e===1))throw n=Is,$r(t,0),Hn(t,r),Et(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:kr(t,vt,En);break;case 3:if(Hn(t,r),(r&130023424)===r&&(e=pf+500-ke(),10<e)){if(dl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ph(kr.bind(null,t,vt,En),e);break}kr(t,vt,En);break;case 4:if(Hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Qt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YS(r/1960))-r,10<r){t.timeoutHandle=Ph(kr.bind(null,t,vt,En),r);break}kr(t,vt,En);break;case 5:kr(t,vt,En);break;default:throw Error(b(329))}}}return Et(t,ke()),t.callbackNode===n?t0.bind(null,t):null}function Kh(t,e){var n=Zo;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=xl(t,e),t!==2&&(e=vt,vt=n,e!==null&&Qh(e)),t}function Qh(t){vt===null?vt=t:vt.push.apply(vt,t)}function XS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e){for(e&=~ff,e&=~lu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qt(e),r=1<<n;t[n]=-1,e&=~r}}function bg(t){if(ie&6)throw Error(b(327));Vi();var e=dl(t,0);if(!(e&1))return Et(t,ke()),null;var n=xl(t,e);if(t.tag!==0&&n===2){var r=wh(t);r!==0&&(e=r,n=Kh(t,r))}if(n===1)throw n=Is,$r(t,0),Hn(t,e),Et(t,ke()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,vt,En),Et(t,ke()),null}function mf(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Hi=ke()+500,iu&&mr())}}function Wr(t){Wn!==null&&Wn.tag===0&&!(ie&6)&&Vi();var e=ie;ie|=1;var n=jt.transition,r=ae;try{if(jt.transition=null,ae=1,t)return t()}finally{ae=r,jt.transition=n,ie=e,!(ie&6)&&mr()}}function gf(){At=Ai.current,ge(Ai)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PS(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Gd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:Ui(),ge(wt),ge(lt),of();break;case 5:rf(r);break;case 4:Ui();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Zd(r.type._context);break;case 22:case 23:gf()}n=n.return}if(Ue=t,De=t=nr(t.current,null),Ge=At=e,Le=0,Is=null,ff=lu=qr=0,vt=Zo=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Vr=null}return t}function n0(t,e){do{var n=De;try{if(Jd(),Ja.current=Al,Cl){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(Hr=0,Be=Oe=_e=null,Xo=!1,_s=0,df.current=null,n===null||n.return===null){Le=1,Is=e,De=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Ge,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=yg(s);if(E!==null){E.flags&=-257,wg(E,s,l,o,e),E.mode&1&&vg(o,h,e),e=E,u=h;var T=e.updateQueue;if(T===null){var I=new Set;I.add(u),e.updateQueue=I}else T.add(u);break e}else{if(!(e&1)){vg(o,h,e),vf();break e}u=Error(b(426))}}else if(ve&&l.mode&1){var P=yg(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),wg(P,s,l,o,e),Yd(zi(u,l));break e}}o=u=zi(u,l),Le!==4&&(Le=2),Zo===null?Zo=[o]:Zo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=$w(o,u,e);cg(o,w);break e;case 1:l=u;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(er===null||!er.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=jw(o,l,e);cg(o,A);break e}}o=o.return}while(o!==null)}o0(n)}catch(V){e=V,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function r0(){var t=Pl.current;return Pl.current=Al,t===null?Al:t}function vf(){(Le===0||Le===3||Le===2)&&(Le=4),Ue===null||!(qr&268435455)&&!(lu&268435455)||Hn(Ue,Ge)}function xl(t,e){var n=ie;ie|=2;var r=r0();(Ue!==t||Ge!==e)&&(En=null,$r(t,e));do try{JS();break}catch(i){n0(t,i)}while(!0);if(Jd(),ie=n,Pl.current=r,De!==null)throw Error(b(261));return Ue=null,Ge=0,Le}function JS(){for(;De!==null;)i0(De)}function ZS(){for(;De!==null&&!SI();)i0(De)}function i0(t){var e=a0(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?o0(t):De=e,df.current=null}function o0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WS(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,De=null;return}}else if(n=qS(n,e,At),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Le===0&&(Le=5)}function kr(t,e,n){var r=ae,i=jt.transition;try{jt.transition=null,ae=1,eC(t,e,n,r)}finally{jt.transition=i,ae=r}return null}function eC(t,e,n,r){do Vi();while(Wn!==null);if(ie&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(NI(t,o),t===Ue&&(De=Ue=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,l0(hl,function(){return Vi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var s=ae;ae=1;var l=ie;ie|=4,df.current=null,QS(t,n),Zw(n,t),_S(Ch),fl=!!Sh,Ch=Sh=null,t.current=n,GS(n),CI(),ie=l,ae=s,jt.transition=o}else t.current=n;if(La&&(La=!1,Wn=t,Rl=i),o=t.pendingLanes,o===0&&(er=null),kI(n.stateNode),Et(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kl)throw kl=!1,t=qh,qh=null,t;return Rl&1&&t.tag!==0&&Vi(),o=t.pendingLanes,o&1?t===Wh?es++:(es=0,Wh=t):es=0,mr(),null}function Vi(){if(Wn!==null){var t=Fy(Rl),e=jt.transition,n=ae;try{if(jt.transition=null,ae=16>t?16:t,Wn===null)var r=!1;else{if(t=Wn,Wn=null,Rl=0,ie&6)throw Error(b(331));var i=ie;for(ie|=4,B=t.current;B!==null;){var o=B,s=o.child;if(B.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(B=h;B!==null;){var p=B;switch(p.tag){case 0:case 11:case 15:Jo(8,p,o)}var m=p.child;if(m!==null)m.return=p,B=m;else for(;B!==null;){p=B;var g=p.sibling,E=p.return;if(Yw(p),p===h){B=null;break}if(g!==null){g.return=E,B=g;break}B=E}}}var T=o.alternate;if(T!==null){var I=T.child;if(I!==null){T.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}B=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,B=s;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jo(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,B=w;break e}B=o.return}}var y=t.current;for(B=y;B!==null;){s=B;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,B=_;else e:for(s=y;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:au(9,l)}}catch(V){Se(l,l.return,V)}if(l===s){B=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,B=A;break e}B=l.return}}if(ie=i,mr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Zl,t)}catch{}r=!0}return r}finally{ae=n,jt.transition=e}}return!1}function Dg(t,e,n){e=zi(n,e),e=$w(t,e,1),t=Zn(t,e,1),e=ft(),t!==null&&(zs(t,1,e),Et(t,e))}function Se(t,e,n){if(t.tag===3)Dg(t,t,n);else for(;e!==null;){if(e.tag===3){Dg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(er===null||!er.has(r))){t=zi(n,t),t=jw(e,t,1),e=Zn(e,t,1),t=ft(),e!==null&&(zs(e,1,t),Et(e,t));break}}e=e.return}}function tC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(Ge&n)===n&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>ke()-pf?$r(t,0):ff|=n),Et(t,e)}function s0(t,e){e===0&&(t.mode&1?(e=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):e=1);var n=ft();t=bn(t,e),t!==null&&(zs(t,e,n),Et(t,n))}function nC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),s0(t,n)}function rC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),s0(t,n)}var a0;a0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,HS(t,e,n);yt=!!(t.flags&131072)}else yt=!1,ve&&e.flags&1048576&&cw(e,_l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;el(t,e),t=e.pendingProps;var i=$i(e,lt.current);Di(e,n),i=af(null,e,r,t,i,n);var o=lf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(r)?(o=!0,yl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tf(e),i.updater=ou,e.stateNode=i,i._reactInternals=e,Nh(e,r,t,n),e=Mh(null,e,r,!0,o,n)):(e.tag=0,ve&&o&&Qd(e),ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(el(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oC(r),t=Ht(r,t),i){case 0:e=Lh(null,e,r,t,n);break e;case 1:e=Tg(null,e,r,t,n);break e;case 11:e=_g(null,e,r,t,n);break e;case 14:e=Eg(null,e,r,Ht(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),Lh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),Tg(t,e,r,i,n);case 3:e:{if(Hw(e),t===null)throw Error(b(387));r=e.pendingProps,o=e.memoizedState,i=o.element,pw(t,e),Il(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zi(Error(b(423)),e),e=Ig(t,e,r,n,i);break e}else if(r!==i){i=zi(Error(b(424)),e),e=Ig(t,e,r,n,i);break e}else for(Pt=Jn(e.stateNode.containerInfo.firstChild),kt=e,ve=!0,Wt=null,n=yw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ji(),r===i){e=Dn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return ww(e),t===null&&bh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ah(r,i)?s=null:o!==null&&Ah(r,o)&&(e.flags|=32),zw(t,e),ht(t,e,s,n),e.child;case 6:return t===null&&bh(e),null;case 13:return qw(t,e,n);case 4:return nf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bi(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),_g(t,e,r,i,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,he(El,r._currentValue),r._currentValue=s,o!==null)if(Yt(o.value,s)){if(o.children===i.children&&!wt.current){e=Dn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Pn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Dh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(b(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Di(e,n),i=Bt(i),r=r(i),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,i=Ht(r,e.pendingProps),i=Ht(r.type,i),Eg(t,e,r,i,n);case 15:return Bw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ht(r,i),el(t,e),e.tag=1,_t(r)?(t=!0,yl(e)):t=!1,Di(e,n),gw(e,r,i),Nh(e,r,i,n),Mh(null,e,r,!0,t,n);case 19:return Ww(t,e,n);case 22:return Uw(t,e,n)}throw Error(b(156,e.tag))};function l0(t,e){return Ny(t,e)}function iC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new iC(t,e,n,r)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oC(t){if(typeof t=="function")return yf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ld)return 11;if(t===Md)return 14}return 2}function nr(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")yf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case gi:return jr(n.children,i,o,e);case Od:s=8,i|=8;break;case ih:return t=$t(12,n,e,i|2),t.elementType=ih,t.lanes=o,t;case oh:return t=$t(13,n,e,i),t.elementType=oh,t.lanes=o,t;case sh:return t=$t(19,n,e,i),t.elementType=sh,t.lanes=o,t;case vy:return uu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case my:s=10;break e;case gy:s=9;break e;case Ld:s=11;break e;case Md:s=14;break e;case jn:s=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=$t(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function jr(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function uu(t,e,n,r){return t=$t(22,t,r,e),t.elementType=vy,t.lanes=n,t.stateNode={isHidden:!1},t}function Oc(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Lc(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gc(0),this.expirationTimes=gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wf(t,e,n,r,i,o,s,l,u){return t=new sC(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$t(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(o),t}function aC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u0(t){if(!t)return ur;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(_t(n))return lw(t,n,e)}return e}function c0(t,e,n,r,i,o,s,l,u){return t=wf(n,r,!0,t,i,o,s,l,u),t.context=u0(null),n=t.current,r=ft(),i=tr(n),o=Pn(r,i),o.callback=e??null,Zn(n,o,i),t.current.lanes=i,zs(t,i,r),Et(t,r),t}function cu(t,e,n,r){var i=e.current,o=ft(),s=tr(i);return n=u0(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zn(i,e,s),t!==null&&(Gt(t,i,s,o),Xa(t,i,s)),s}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _f(t,e){Vg(t,e),(t=t.alternate)&&Vg(t,e)}function lC(){return null}var h0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ef(t){this._internalRoot=t}hu.prototype.render=Ef.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));cu(t,e,null,null)};hu.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wr(function(){cu(null,t,null,null)}),e[xn]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=By();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&zy(t)}};function Tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ng(){}function uC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=bl(s);o.call(h)}}var s=c0(e,r,t,0,null,!1,!1,"",Ng);return t._reactRootContainer=s,t[xn]=s.current,ms(t.nodeType===8?t.parentNode:t),Wr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=bl(u);l.call(h)}}var u=wf(t,0,!1,null,null,!1,!1,"",Ng);return t._reactRootContainer=u,t[xn]=u.current,ms(t.nodeType===8?t.parentNode:t),Wr(function(){cu(e,u,n,r)}),u}function fu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=bl(s);l.call(u)}}cu(e,s,t,i)}else s=uC(n,e,t,i,r);return bl(s)}$y=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(jd(e,n|1),Et(e,ke()),!(ie&6)&&(Hi=ke()+500,mr()))}break;case 13:Wr(function(){var r=bn(t,1);if(r!==null){var i=ft();Gt(r,t,1,i)}}),_f(t,1)}};Bd=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=ft();Gt(e,t,134217728,n)}_f(t,134217728)}};jy=function(t){if(t.tag===13){var e=tr(t),n=bn(t,e);if(n!==null){var r=ft();Gt(n,t,e,r)}_f(t,e)}};By=function(){return ae};Uy=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};gh=function(t,e,n){switch(e){case"input":if(uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ru(r);if(!i)throw Error(b(90));wy(r),uh(r,i)}}}break;case"textarea":Ey(t,n);break;case"select":e=n.value,e!=null&&ki(t,!!n.multiple,e,!1)}};ky=mf;Ry=Wr;var cC={usingClientEntryPoint:!1,Events:[qs,_i,ru,Ay,Py,mf]},Vo={findFiberByHostInstance:Dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hC={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dy(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||lC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Zl=Ma.inject(hC),cn=Ma}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cC;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(e))throw Error(b(200));return aC(t,e,null,n)};Dt.createRoot=function(t,e){if(!Tf(t))throw Error(b(299));var n=!1,r="",i=h0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wf(t,1,!1,null,null,n,!1,r,i),t[xn]=e.current,ms(t.nodeType===8?t.parentNode:t),new Ef(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Dy(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return Wr(t)};Dt.hydrate=function(t,e,n){if(!du(e))throw Error(b(200));return fu(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Tf(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=h0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=c0(e,null,t,1,n??null,i,!1,o,s),t[xn]=e.current,ms(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hu(e)};Dt.render=function(t,e,n){if(!du(e))throw Error(b(200));return fu(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!du(t))throw Error(b(40));return t._reactRootContainer?(Wr(function(){fu(null,null,t,!1,function(){t._reactRootContainer=null,t[xn]=null})}),!0):!1};Dt.unstable_batchedUpdates=mf;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!du(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return fu(t,e,n,!1,r)};Dt.version="18.2.0-next-9e3b772b8-20220608";function d0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d0)}catch(t){console.error(t)}}d0(),cy.exports=Dt;var dC=cy.exports,Og=dC;nh.createRoot=Og.createRoot,nh.hydrateRoot=Og.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(this,arguments)}var Kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kn||(Kn={}));const Lg="popstate";function fC(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Gh("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dl(i)}return mC(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function If(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pC(){return Math.random().toString(36).substr(2,8)}function Mg(t,e){return{usr:t.state,key:t.key,idx:e}}function Gh(t,e,n,r){return n===void 0&&(n=null),Ss({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||r||pC()})}function Dl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Kn.Pop,u=null,h=p();h==null&&(h=0,s.replaceState(Ss({},s.state,{idx:h}),""));function p(){return(s.state||{idx:null}).idx}function m(){l=Kn.Pop;let P=p(),w=P==null?null:P-h;h=P,u&&u({action:l,location:I.location,delta:w})}function g(P,w){l=Kn.Push;let y=Gh(I.location,P,w);n&&n(y,P),h=p()+1;let _=Mg(y,h),A=I.createHref(y);try{s.pushState(_,"",A)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(A)}o&&u&&u({action:l,location:I.location,delta:1})}function E(P,w){l=Kn.Replace;let y=Gh(I.location,P,w);n&&n(y,P),h=p();let _=Mg(y,h),A=I.createHref(y);s.replaceState(_,"",A),o&&u&&u({action:l,location:I.location,delta:0})}function T(P){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:Dl(P);return Ne(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let I={get action(){return l},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Lg,m),u=P,()=>{i.removeEventListener(Lg,m),u=null}},createHref(P){return e(i,P)},createURL:T,encodeLocation(P){let w=T(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:E,go(P){return s.go(P)}};return I}var Fg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fg||(Fg={}));function gC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?oo(e):e,i=Sf(r.pathname||"/",n);if(i==null)return null;let o=f0(t);vC(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=AC(o[l],RC(i));return s}function f0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=rr([r,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(Ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),f0(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:SC(h,o.index),routesMeta:p})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of p0(o.path))i(o,s,u)}),e}function p0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=p0(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function vC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yC=/^:\w+$/,wC=3,_C=2,EC=1,TC=10,IC=-2,$g=t=>t==="*";function SC(t,e){let n=t.split("/"),r=n.length;return n.some($g)&&(r+=IC),e&&(r+=_C),n.filter(i=>!$g(i)).reduce((i,o)=>i+(yC.test(o)?wC:o===""?EC:TC),r)}function CC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AC(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=PC({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h);if(!p)return null;Object.assign(r,p.params);let m=l.route;o.push({params:r,pathname:rr([i,p.pathname]),pathnameBase:NC(rr([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=rr([i,p.pathnameBase]))}return o}function PC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:g,isOptional:E}=p;if(g==="*"){let I=l[m]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const T=l[m];return E&&!T?h[g]=void 0:h[g]=xC(T||"",g),h},{}),pathname:o,pathnameBase:s,pattern:t}}function kC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),If(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RC(t){try{return decodeURI(t)}catch(e){return If(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xC(t,e){try{return decodeURIComponent(t)}catch(n){return If(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Sf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:DC(n,e):e,search:OC(r),hash:LC(i)}}function DC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m0(t,e){let n=VC(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function g0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oo(t):(i=Ss({},t),Ne(!i.pathname||!i.pathname.includes("?"),Mc("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Mc("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Mc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else if(r){let m=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m.pop();i.pathname=g.join("/")}l="/"+m.join("/")}else{let m=e.length-1;if(s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=bC(i,l),h=s&&s!=="/"&&s.endsWith("/"),p=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const rr=t=>t.join("/").replace(/\/\/+/g,"/"),NC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v0=["post","put","patch","delete"];new Set(v0);const FC=["get",...v0];new Set(FC);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(this,arguments)}const Cf=D.createContext(null),$C=D.createContext(null),Zr=D.createContext(null),pu=D.createContext(null),gr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),y0=D.createContext(null);function jC(t,e){let{relative:n}=e===void 0?{}:e;Ks()||Ne(!1);let{basename:r,navigator:i}=D.useContext(Zr),{hash:o,pathname:s,search:l}=E0(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:rr([r,s])),i.createHref({pathname:u,search:l,hash:o})}function Ks(){return D.useContext(pu)!=null}function mu(){return Ks()||Ne(!1),D.useContext(pu).location}function w0(t){D.useContext(Zr).static||D.useLayoutEffect(t)}function BC(){let{isDataRoute:t}=D.useContext(gr);return t?eA():UC()}function UC(){Ks()||Ne(!1);let t=D.useContext(Cf),{basename:e,future:n,navigator:r}=D.useContext(Zr),{matches:i}=D.useContext(gr),{pathname:o}=mu(),s=JSON.stringify(m0(i,n.v7_relativeSplatPath)),l=D.useRef(!1);return w0(()=>{l.current=!0}),D.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=g0(h,JSON.parse(s),o,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:rr([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,s,o,t])}function _0(){let{matches:t}=D.useContext(gr),e=t[t.length-1];return e?e.params:{}}function E0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Zr),{matches:i}=D.useContext(gr),{pathname:o}=mu(),s=JSON.stringify(m0(i,r.v7_relativeSplatPath));return D.useMemo(()=>g0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function zC(t,e){return HC(t,e)}function HC(t,e,n,r){Ks()||Ne(!1);let{navigator:i}=D.useContext(Zr),{matches:o}=D.useContext(gr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=mu(),p;if(e){var m;let P=typeof e=="string"?oo(e):e;u==="/"||(m=P.pathname)!=null&&m.startsWith(u)||Ne(!1),p=P}else p=h;let g=p.pathname||"/",E=u==="/"?g:g.slice(u.length)||"/",T=gC(t,{pathname:E}),I=GC(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:rr([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:rr([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&I?D.createElement(pu.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Kn.Pop}},I):I}function qC(){let t=ZC(),e=MC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,o)}const WC=D.createElement(qC,null);class KC extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(gr.Provider,{value:this.props.routeContext},D.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QC(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Cf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(gr.Provider,{value:e},r)}function GC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id]));p>=0||Ne(!1),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.loader&&m.route.id&&n.loaderData[m.route.id]===void 0&&(!n.errors||n.errors[m.route.id]===void 0)){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}return s.reduceRight((p,m,g)=>{let E,T=!1,I=null,P=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||WC,u&&(h<0&&g===0?(tA("route-fallback",!1),T=!0,P=null):h===g&&(T=!0,P=m.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,g+1)),y=()=>{let _;return E?_=I:T?_=P:m.route.Component?_=D.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,D.createElement(QC,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(KC,{location:n.location,revalidation:n.revalidation,component:I,error:E,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var T0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(T0||{}),Vl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vl||{});function YC(t){let e=D.useContext(Cf);return e||Ne(!1),e}function XC(t){let e=D.useContext($C);return e||Ne(!1),e}function JC(t){let e=D.useContext(gr);return e||Ne(!1),e}function I0(t){let e=JC(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function ZC(){var t;let e=D.useContext(y0),n=XC(Vl.UseRouteError),r=I0(Vl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eA(){let{router:t}=YC(T0.UseNavigateStable),e=I0(Vl.UseNavigateStable),n=D.useRef(!1);return w0(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cs({fromRouteId:e},o)))},[t,e])}const jg={};function tA(t,e,n){!e&&!jg[t]&&(jg[t]=!0)}function Rr(t){Ne(!1)}function nA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kn.Pop,navigator:o,static:s=!1,future:l}=t;Ks()&&Ne(!1);let u=e.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:u,navigator:o,static:s,future:Cs({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=oo(r));let{pathname:p="/",search:m="",hash:g="",state:E=null,key:T="default"}=r,I=D.useMemo(()=>{let P=Sf(p,u);return P==null?null:{location:{pathname:P,search:m,hash:g,state:E,key:T},navigationType:i}},[u,p,m,g,E,T,i]);return I==null?null:D.createElement(Zr.Provider,{value:h},D.createElement(pu.Provider,{children:n,value:I}))}function rA(t){let{children:e,location:n}=t;return zC(Yh(e),n)}new Promise(()=>{});function Yh(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Yh(r.props.children,o));return}r.type!==Rr&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Yh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function iA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sA(t,e){return t.button===0&&(!e||e==="_self")&&!oA(t)}const aA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lA="startTransition",Bg=nI[lA];function uA(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=fC({window:i,v5Compat:!0}));let s=o.current,[l,u]=D.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},p=D.useCallback(m=>{h&&Bg?Bg(()=>u(m)):u(m)},[u,h]);return D.useLayoutEffect(()=>s.listen(p),[s,p]),D.createElement(nA,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const cA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:h,preventScrollReset:p,unstable_viewTransition:m}=e,g=iA(e,aA),{basename:E}=D.useContext(Zr),T,I=!1;if(typeof h=="string"&&hA.test(h)&&(T=h,cA))try{let _=new URL(window.location.href),A=h.startsWith("//")?new URL(_.protocol+h):new URL(h),V=Sf(A.pathname,E);A.origin===_.origin&&V!=null?h=V+A.search+A.hash:I=!0}catch{}let P=jC(h,{relative:i}),w=dA(h,{replace:s,state:l,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:m});function y(_){r&&r(_),_.defaultPrevented||w(_)}return D.createElement("a",Xh({},g,{href:T||P,onClick:I||o?r:y,ref:n,target:u}))});var Ug;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ug||(Ug={}));var zg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zg||(zg={}));function dA(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=BC(),h=mu(),p=E0(t,{relative:s});return D.useCallback(m=>{if(sA(m,n)){m.preventDefault();let g=r!==void 0?r:Dl(h)===Dl(p);u(t,{replace:g,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[h,u,p,r,i,n,t,o,s,l])}var S0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hg=An.createContext&&An.createContext(S0),ir=function(){return ir=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ir.apply(this,arguments)},fA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function C0(t){return t&&t.map(function(e,n){return An.createElement(e.tag,ir({key:n},e.attr),C0(e.child))})}function pA(t){return function(e){return An.createElement(mA,ir({attr:ir({},t.attr)},e),C0(t.child))}}function mA(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=fA(t,["attr","size","title"]),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),An.createElement("svg",ir({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:ir(ir({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&An.createElement("title",null,o),t.children)};return Hg!==void 0?An.createElement(Hg.Consumer,null,function(n){return e(n)}):e(S0)}function gA(t){return pA({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"}}]})(t)}const Qs=D.createContext(),vA=({children:t})=>{const[e,n]=D.useState([]),r=h=>{if(i(h.id)){const m=e.map(g=>g.id===h.id?{...g,cantidad:g.cantidad+h.cantidad}:g);n(m)}else n([...e,h])},i=h=>e.some(m=>m.id===h),o=()=>e.reduce((h,p)=>h+p.cantidad*p.precio,0),s=()=>e.reduce((h,p)=>h+p.cantidad,0),l=()=>{n([])},u=h=>{const p=e.filter(m=>m.id!==h);n(p)};return console.log(e),R.jsx(Qs.Provider,{value:{carrito:e,añadirProducto:r,totalCantidad:s,borrarCarrito:l,borrarProducto:u,totalPrecio:o},children:t})},yA=()=>{const{carrito:t,totalCantidad:e}=D.useContext(Qs);return R.jsxs(sn,{to:"/carrito",children:[R.jsx(gA,{color:"white",size:30}),t.length!==0&&R.jsx("p",{children:e()})]})},wA=()=>R.jsxs("div",{id:"navbar",children:[R.jsx("h1",{children:"Infinity"}),R.jsxs("ul",{className:"nav-link",children:[R.jsx("li",{children:R.jsx(sn,{to:"/",children:"Inicio"})}),R.jsx("li",{children:R.jsx(sn,{to:"/categoria/tops",children:"Tops"})}),R.jsx("li",{children:R.jsx(sn,{to:"/categoria/shorts",children:"Short"})}),R.jsx("li",{children:R.jsx(sn,{to:"/categoria/vestidos",children:"Vestidos"})}),R.jsx("li",{children:R.jsx(sn,{to:"/categoria/accesorios",children:"Accesorios"})})]}),R.jsx(yA,{})]}),_A=D.memo(({producto:t})=>{const[e,n]=D.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)},o={transform:e?"scale(1.1)":"scale(1)",transition:"transform 0.3s ease-in-out"};return R.jsxs("div",{className:"item",style:o,onMouseOver:r,onMouseLeave:i,children:[R.jsx("img",{className:"img-item",src:t.imagen,alt:t.nombre}),R.jsx("p",{className:"titulo-item",children:t.nombre}),R.jsx("button",{className:"boton-item",children:R.jsx(sn,{to:`/detalle/${t.id}`,children:"Ver Detalle"})})]})}),EA=({productos:t})=>R.jsx("div",{className:"wrapper",children:t.map(e=>R.jsx(_A,{producto:e},e.id))});var qg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=o>>2,m=(o&3)<<4|l>>4;let g=(l&15)<<2|h>>6,E=h&63;u||(E=64,s||(g=64)),r.push(n[p],n[m],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||m==null)throw new IA;const g=o<<2|l>>4;if(r.push(g),h!==64){const E=l<<4&240|h>>2;if(r.push(E),m!==64){const T=h<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SA=function(t){const e=A0(t);return P0.encodeByteArray(e,!0)},Nl=function(t){return SA(t).replace(/\./g,"")},CA=function(t){try{return P0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=()=>AA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof qg>"u")return;const t=qg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CA(t[1]);return e&&JSON.parse(e)},Af=()=>{try{return PA()||kA()||RA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xA=t=>{var e,n;return(n=(e=Af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bA=t=>{const e=xA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k0=()=>{var t;return(t=Af())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Nl(JSON.stringify(n)),Nl(JSON.stringify(s)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){var t;const e=(t=Af())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return!NA()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R0(){try{return typeof indexedDB=="object"}catch{return!1}}function LA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class so extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x0.prototype.create)}}class x0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?FA(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new so(i,l,r)}}function FA(t,e){return t.replace($A,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $A=/\{\$([^}]+)}/g;function Jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Wg(o)&&Wg(s)){if(!Jh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UA(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(t){return t===xr?void 0:t}function UA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const HA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},qA=re.INFO,WA={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},KA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b0{constructor(e){this.name=e,this._logLevel=qA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const QA=(t,e)=>e.some(n=>t instanceof n);let Kg,Qg;function GA(){return Kg||(Kg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return Qg||(Qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Zh=new WeakMap,V0=new WeakMap,Fc=new WeakMap,Pf=new WeakMap;function XA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(or(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&D0.set(n,t)}).catch(()=>{}),Pf.set(e,t),e}function JA(t){if(Zh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zh.set(t,e)}let ed={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZA(t){ed=t(ed)}function eP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($c(this),e,...n);return V0.set(r,e.sort?e.sort():[e]),or(r)}:YA().includes(t)?function(...e){return t.apply($c(this),e),or(D0.get(this))}:function(...e){return or(t.apply($c(this),e))}}function tP(t){return typeof t=="function"?eP(t):(t instanceof IDBTransaction&&JA(t),QA(t,GA())?new Proxy(t,ed):t)}function or(t){if(t instanceof IDBRequest)return XA(t);if(Fc.has(t))return Fc.get(t);const e=tP(t);return e!==t&&(Fc.set(t,e),Pf.set(e,t)),e}const $c=t=>Pf.get(t);function nP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=or(s);return r&&s.addEventListener("upgradeneeded",u=>{r(or(s.result),u.oldVersion,u.newVersion,or(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const rP=["get","getKey","getAll","getAllKeys","count"],iP=["put","add","delete","clear"],jc=new Map;function Gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jc.get(e))return jc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rP.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return jc.set(e,o),o}ZA(t=>({...t,get:(e,n,r)=>Gg(e,n)||t.get(e,n,r),has:(e,n)=>!!Gg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const td="@firebase/app",Yg="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new b0("@firebase/app"),aP="@firebase/app-compat",lP="@firebase/analytics-compat",uP="@firebase/analytics",cP="@firebase/app-check-compat",hP="@firebase/app-check",dP="@firebase/auth",fP="@firebase/auth-compat",pP="@firebase/database",mP="@firebase/database-compat",gP="@firebase/functions",vP="@firebase/functions-compat",yP="@firebase/installations",wP="@firebase/installations-compat",_P="@firebase/messaging",EP="@firebase/messaging-compat",TP="@firebase/performance",IP="@firebase/performance-compat",SP="@firebase/remote-config",CP="@firebase/remote-config-compat",AP="@firebase/storage",PP="@firebase/storage-compat",kP="@firebase/firestore",RP="@firebase/firestore-compat",xP="firebase",bP="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",DP={[td]:"fire-core",[aP]:"fire-core-compat",[uP]:"fire-analytics",[lP]:"fire-analytics-compat",[hP]:"fire-app-check",[cP]:"fire-app-check-compat",[dP]:"fire-auth",[fP]:"fire-auth-compat",[pP]:"fire-rtdb",[mP]:"fire-rtdb-compat",[gP]:"fire-fn",[vP]:"fire-fn-compat",[yP]:"fire-iid",[wP]:"fire-iid-compat",[_P]:"fire-fcm",[EP]:"fire-fcm-compat",[TP]:"fire-perf",[IP]:"fire-perf-compat",[SP]:"fire-rc",[CP]:"fire-rc-compat",[AP]:"fire-gcs",[PP]:"fire-gcs-compat",[kP]:"fire-fst",[RP]:"fire-fst-compat","fire-js":"fire-js",[xP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new Map,rd=new Map;function VP(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ml(t){const e=t.name;if(rd.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,t);for(const n of Ll.values())VP(n,t);return!0}function NP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sr=new x0("app","Firebase",OP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=bP;function N0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=k0()),!n)throw sr.create("no-options");const o=Ll.get(i);if(o){if(Jh(n,o.options)&&Jh(r,o.config))return o;throw sr.create("duplicate-app",{appName:i})}const s=new zA(i);for(const u of rd.values())s.addComponent(u);const l=new LP(n,r,s);return Ll.set(i,l),l}function FP(t=nd){const e=Ll.get(t);if(!e&&t===nd&&k0())return N0();if(!e)throw sr.create("no-app",{appName:t});return e}function Ni(t,e,n){var r;let i=(r=DP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(l.join(" "));return}Ml(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebase-heartbeat-database",jP=1,Ps="firebase-heartbeat-store";let Bc=null;function O0(){return Bc||(Bc=nP($P,jP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ps)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),Bc}async function BP(t){try{return await(await O0()).transaction(Ps).objectStore(Ps).get(L0(t))}catch(e){if(e instanceof so)Kr.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function Xg(t,e){try{const r=(await O0()).transaction(Ps,"readwrite");await r.objectStore(Ps).put(e,L0(t)),await r.done}catch(n){if(n instanceof so)Kr.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(r.message)}}}function L0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1024,zP=30*24*60*60*1e3;class HP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=zP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jg(),{heartbeatsToSend:r,unsentEntries:i}=qP(this._heartbeatsCache.heartbeats),o=Nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Jg(){return new Date().toISOString().substring(0,10)}function qP(t,e=UP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Zg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R0()?LA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zg(t){return Nl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){Ml(new As("platform-logger",e=>new oP(e),"PRIVATE")),Ml(new As("heartbeat",e=>new HP(e),"PRIVATE")),Ni(td,Yg,t),Ni(td,Yg,"esm2017"),Ni("fire-js","")}KP("");var QP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,kf=kf||{},W=QP||self;function gu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function GP(t){return Object.prototype.hasOwnProperty.call(t,Uc)&&t[Uc]||(t[Uc]=++YP)}var Uc="closure_uid_"+(1e9*Math.random()>>>0),YP=0;function XP(t,e,n){return t.call.apply(t.bind,arguments)}function JP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function st(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?st=XP:st=JP,st.apply(null,arguments)}function Fa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function He(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),l=2;l<arguments.length;l++)s[l-2]=arguments[l];return e.prototype[i].apply(r,s)}}function vr(){this.s=this.s,this.o=this.o}var ZP=0;vr.prototype.s=!1;vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ZP!=0)&&GP(this)};vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ev(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gu(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ek=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};W.addEventListener("test",n,e),W.removeEventListener("test",n,e)}catch{}return t}();function ks(t){return/^[\s\xa0]*$/.test(t)}function vu(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return vu().indexOf(t)!=-1}function xf(t){return xf[" "](t),t}xf[" "]=function(){};function tk(t,e){var n=Kk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nk=an("Opera"),Wi=an("Trident")||an("MSIE"),F0=an("Edge"),id=F0||Wi,$0=an("Gecko")&&!(vu().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),rk=vu().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function j0(){var t=W.document;return t?t.documentMode:void 0}var od;e:{var zc="",Hc=function(){var t=vu();if($0)return/rv:([^\);]+)(\)|;)/.exec(t);if(F0)return/Edge\/([\d\.]+)/.exec(t);if(Wi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rk)return/WebKit\/(\S+)/.exec(t);if(nk)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Hc&&(zc=Hc?Hc[1]:""),Wi){var qc=j0();if(qc!=null&&qc>parseFloat(zc)){od=String(qc);break e}}od=zc}var sd;if(W.document&&Wi){var tv=j0();sd=tv||parseInt(od,10)||void 0}else sd=void 0;var ik=sd;function Rs(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($0){e:{try{xf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ok[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rs.$.h.call(this)}}He(Rs,at);var ok={2:"touch",3:"pen",4:"mouse"};Rs.prototype.h=function(){Rs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ys="closure_listenable_"+(1e6*Math.random()|0),sk=0;function ak(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sk,this.fa=this.ia=!1}function yu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function bf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lk(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function B0(t){const e={};for(const n in t)e[n]=t[n];return e}const nv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<nv.length;o++)n=nv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wu(t){this.src=t,this.g={},this.h=0}wu.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=ld(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new ak(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function ad(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=M0(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(yu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ld(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Df="closure_lm_"+(1e6*Math.random()|0),Wc={};function z0(t,e,n,r,i){if(r&&r.once)return q0(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)z0(t,e[o],n,r,i);return null}return n=Of(n),t&&t[Ys]?t.O(e,n,Gs(r)?!!r.capture:!!r,i):H0(t,e,n,!1,r,i)}function H0(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Gs(i)?!!i.capture:!!i,l=Nf(t);if(l||(t[Df]=l=new wu(t)),n=l.add(e,n,r,s,o),n.proxy)return n;if(r=uk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ek||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(K0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uk(){function t(n){return e.call(t.src,t.listener,n)}const e=ck;return t}function q0(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)q0(t,e[o],n,r,i);return null}return n=Of(n),t&&t[Ys]?t.P(e,n,Gs(r)?!!r.capture:!!r,i):H0(t,e,n,!0,r,i)}function W0(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)W0(t,e[o],n,r,i);else r=Gs(r)?!!r.capture:!!r,n=Of(n),t&&t[Ys]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ld(o,n,r,i),-1<n&&(yu(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Nf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ld(e,n,r,i)),(n=-1<t?e[t]:null)&&Vf(n))}function Vf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ys])ad(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(K0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nf(e))?(ad(n,t),n.h==0&&(n.src=null,e[Df]=null)):yu(t)}}}function K0(t){return t in Wc?Wc[t]:Wc[t]="on"+t}function ck(t,e){if(t.fa)t=!0;else{e=new Rs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vf(t),t=n.call(r,e)}return t}function Nf(t){return t=t[Df],t instanceof wu?t:null}var Kc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(t){return typeof t=="function"?t:(t[Kc]||(t[Kc]=function(e){return t.handleEvent(e)}),t[Kc])}function ze(){vr.call(this),this.i=new wu(this),this.S=this,this.J=null}He(ze,vr);ze.prototype[Ys]=!0;ze.prototype.removeEventListener=function(t,e,n,r){W0(this,t,e,n,r)};function Ye(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;e=new at(r,t),U0(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=$a(s,r,!0,e)&&i}if(s=e.g=t,i=$a(s,r,!0,e)&&i,i=$a(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=$a(s,r,!1,e)&&i}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yu(n[r]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $a(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var l=s.listener,u=s.la||s.src;s.ia&&ad(t.i,s),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lf=W.JSON.stringify;class hk{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function dk(){var t=Mf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class fk{constructor(){this.h=this.g=null}add(e,n){const r=Q0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Q0=new hk(()=>new pk,t=>t.reset());class pk{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mk(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function gk(t){W.setTimeout(()=>{throw t},0)}let xs,bs=!1,Mf=new fk,G0=()=>{const t=W.Promise.resolve(void 0);xs=()=>{t.then(vk)}};var vk=()=>{for(var t;t=dk();){try{t.h.call(t.g)}catch(n){gk(n)}var e=Q0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bs=!1};function _u(t,e){ze.call(this),this.h=t||1,this.g=e||W,this.j=st(this.qb,this),this.l=Date.now()}He(_u,ze);L=_u.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ye(this,"tick"),this.ga&&(Ff(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ff(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}L.N=function(){_u.$.N.call(this),Ff(this),delete this.g};function $f(t,e,n){if(typeof t=="function")n&&(t=st(t,n));else if(t&&typeof t.handleEvent=="function")t=st(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function Y0(t){t.g=$f(()=>{t.g=null,t.i&&(t.i=!1,Y0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yk extends vr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y0(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(t){vr.call(this),this.h=t,this.g={}}He(Ds,vr);var rv=[];function X0(t,e,n,r){Array.isArray(n)||(n&&(rv[0]=n.toString()),n=rv);for(var i=0;i<n.length;i++){var o=z0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function J0(t){bf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vf(e)},t),t.g={}}Ds.prototype.N=function(){Ds.$.N.call(this),J0(this)};Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eu(){this.g=!0}Eu.prototype.Ea=function(){this.g=!1};function wk(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",l=o.split("&"),u=0;u<l.length;u++){var h=l[u].split("=");if(1<h.length){var p=h[0];h=h[1];var m=p.split("_");s=2<=m.length&&m[1]=="type"?s+(p+"="+h+"&"):s+(p+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function _k(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Pi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Tk(t,n)+(r?" "+r:"")})}function Ek(t,e){t.info(function(){return"TIMEOUT: "+e})}Eu.prototype.info=function(){};function Tk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Lf(n)}catch{return e}}var ei={},iv=null;function Tu(){return iv=iv||new ze}ei.Ta="serverreachability";function Z0(t){at.call(this,ei.Ta,t)}He(Z0,at);function Vs(t){const e=Tu();Ye(e,new Z0(e))}ei.STAT_EVENT="statevent";function e_(t,e){at.call(this,ei.STAT_EVENT,t),this.stat=e}He(e_,at);function dt(t){const e=Tu();Ye(e,new e_(e,t))}ei.Ua="timingevent";function t_(t,e){at.call(this,ei.Ua,t),this.size=e}He(t_,at);function Xs(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var Iu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},n_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jf(){}jf.prototype.h=null;function ov(t){return t.h||(t.h=t.i())}function r_(){}var Js={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bf(){at.call(this,"d")}He(Bf,at);function Uf(){at.call(this,"c")}He(Uf,at);var ud;function Su(){}He(Su,jf);Su.prototype.g=function(){return new XMLHttpRequest};Su.prototype.i=function(){return{}};ud=new Su;function Zs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ds(this),this.P=Ik,t=id?125:void 0,this.V=new _u(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i_}function i_(){this.i=null,this.g="",this.h=!1}var Ik=45e3,o_={},cd={};L=Zs.prototype;L.setTimeout=function(t){this.P=t};function hd(t,e,n){t.L=1,t.A=Au(Vn(e)),t.u=n,t.S=!0,s_(t,null)}function s_(t,e){t.G=Date.now(),ea(t),t.B=Vn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),p_(n.i,"t",r),t.o=0,n=t.l.J,t.h=new i_,t.g=O_(t.l,n?e:null,!t.u),0<t.O&&(t.M=new yk(st(t.Pa,t,t.g),t.O)),X0(t.U,t.g,"readystatechange",t.nb),e=t.I?B0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Vs(),wk(t.j,t.v,t.B,t.m,t.W,t.u)}L.nb=function(t){t=t.target;const e=this.M;e&&ln(t)==3?e.l():this.Pa(t)};L.Pa=function(t){try{if(t==this.g)e:{const p=ln(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>p)&&(p!=3||id||this.g&&(this.h.h||this.g.ja()||uv(this.g)))){this.J||p!=4||e==7||(e==8||0>=m?Vs(3):Vs(2)),Cu(this);var n=this.g.da();this.ca=n;t:if(a_(this)){var r=uv(this.g);t="";var i=r.length,o=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),ts(this);var s="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,_k(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(l)){var h=l;break t}}h=null}if(n=h)Pi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dd(this,n);else{this.i=!1,this.s=3,dt(12),Or(this),ts(this);break e}}this.S?(l_(this,p,s),id&&this.i&&p==3&&(X0(this.U,this.V,"tick",this.mb),this.V.start())):(Pi(this.j,this.m,s,null),dd(this,s)),p==4&&Or(this),this.i&&!this.J&&(p==4?b_(this.l,this):(this.i=!1,ea(this)))}else Hk(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Or(this),ts(this)}}}catch{}finally{}};function a_(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function l_(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Sk(t,n),i==cd){e==4&&(t.s=4,dt(14),r=!1),Pi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==o_){t.s=4,dt(15),Pi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pi(t.j,t.m,i,null),dd(t,i);a_(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,dt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qf(e),e.M=!0,dt(11))):(Pi(t.j,t.m,n,"[Invalid Chunked Response]"),Or(t),ts(t))}L.mb=function(){if(this.g){var t=ln(this.g),e=this.g.ja();this.o<e.length&&(Cu(this),l_(this,t,e),this.i&&t!=4&&ea(this))}};function Sk(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?cd:(n=Number(e.substring(n,r)),isNaN(n)?o_:(r+=1,r+n>e.length?cd:(e=e.slice(r,r+n),t.o=r+n,e)))}L.cancel=function(){this.J=!0,Or(this)};function ea(t){t.Y=Date.now()+t.P,u_(t,t.P)}function u_(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Xs(st(t.lb,t),e)}function Cu(t){t.C&&(W.clearTimeout(t.C),t.C=null)}L.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(Ek(this.j,this.B),this.L!=2&&(Vs(),dt(17)),Or(this),this.s=2,ts(this)):u_(this,this.Y-t)};function ts(t){t.l.H==0||t.J||b_(t.l,t)}function Or(t){Cu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ff(t.V),J0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function dd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||fd(n.i,t))){if(!t.K&&fd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)jl(n),xu(n);else break e;Kf(n),dt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xs(st(n.ib,n),6e3));if(1>=v_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Lr(n,11)}else if((t.K||n.g==t)&&jl(n),!ks(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const p=h[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const m=h[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const T=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var o=r.i;o.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(zf(o,o.h),o.h=null))}if(r.F){const I=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,pe(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=N_(r,r.J?r.pa:null,r.Y),s.K){y_(r.i,s);var l=s,u=r.L;u&&l.setTimeout(u),l.C&&(Cu(l),ea(l)),r.g=s}else R_(r);0<n.j.length&&bu(n)}else h[0]!="stop"&&h[0]!="close"||Lr(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Lr(n,7):Wf(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Vs(4)}catch{}}function Ck(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Ak(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function c_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Ak(t),r=Ck(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var h_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Br(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Br){this.h=t.h,Fl(this,t.j),this.s=t.s,this.g=t.g,$l(this,t.m),this.l=t.l;var e=t.i,n=new Ns;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),sv(this,n),this.o=t.o}else t&&(e=String(t).match(h_))?(this.h=!1,Fl(this,e[1]||"",!0),this.s=Bo(e[2]||""),this.g=Bo(e[3]||"",!0),$l(this,e[4]),this.l=Bo(e[5]||"",!0),sv(this,e[6]||"",!0),this.o=Bo(e[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}Br.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uo(e,av,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uo(e,av,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uo(n,n.charAt(0)=="/"?xk:Rk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uo(n,Dk)),t.join("")};function Vn(t){return new Br(t)}function Fl(t,e,n){t.j=n?Bo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sv(t,e,n){e instanceof Ns?(t.i=e,Vk(t.i,t.h)):(n||(e=Uo(e,bk)),t.i=new Ns(e,t.h))}function pe(t,e,n){t.i.set(e,n)}function Au(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var av=/[#\/\?@]/g,Rk=/[#\?:]/g,xk=/[#\?]/g,bk=/[#\?@]/g,Dk=/#/g;function Ns(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yr(t){t.g||(t.g=new Map,t.h=0,t.i&&Pk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}L=Ns.prototype;L.add=function(t,e){yr(this),this.i=null,t=ao(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function d_(t,e){yr(t),e=ao(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function f_(t,e){return yr(t),e=ao(t,e),t.g.has(e)}L.forEach=function(t,e){yr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};L.ta=function(){yr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};L.Z=function(t){yr(this);let e=[];if(typeof t=="string")f_(this,t)&&(e=e.concat(this.g.get(ao(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};L.set=function(t,e){return yr(this),this.i=null,t=ao(this,t),f_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};L.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function p_(t,e,n){d_(t,e),0<n.length&&(t.i=null,t.g.set(ao(t,e),Rf(n)),t.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ao(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vk(t,e){e&&!t.j&&(yr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(d_(this,r),p_(this,i,n))},t)),t.j=e}var Nk=class{constructor(t,e){this.g=t,this.map=e}};function m_(t){this.l=t||Ok,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ok=10;function g_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function v_(t){return t.h?1:t.g?t.g.size:0}function fd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zf(t,e){t.g?t.g.add(e):t.h=e}function y_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}m_.prototype.cancel=function(){if(this.i=w_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function w_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rf(t.i)}var Lk=class{stringify(t){return W.JSON.stringify(t,void 0)}parse(t){return W.JSON.parse(t,void 0)}};function Mk(){this.g=new Lk}function Fk(t,e,n){const r=n||"";try{c_(t,function(i,o){let s=i;Gs(i)&&(s=Lf(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $k(t,e){const n=new Eu;if(W.Image){const r=new Image;r.onload=Fa(ja,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fa(ja,n,r,"TestLoadImage: error",!1,e),r.onabort=Fa(ja,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fa(ja,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ja(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pu(t){this.l=t.ec||null,this.j=t.ob||!1}He(Pu,jf);Pu.prototype.g=function(){return new ku(this.l,this.j)};Pu.prototype.i=function(t){return function(){return t}}({});function ku(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Hf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He(ku,ze);var Hf=0;L=ku.prototype;L.open=function(t,e){if(this.readyState!=Hf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Os(this)};L.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=Hf};L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;__(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function __(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ta(this):Os(this),this.readyState==3&&__(this)}};L.Za=function(t){this.g&&(this.response=this.responseText=t,ta(this))};L.Ya=function(t){this.g&&(this.response=t,ta(this))};L.ka=function(){this.g&&ta(this)};function ta(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Os(t)}L.setRequestHeader=function(t,e){this.v.append(t,e)};L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Os(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jk=W.JSON.parse;function Ce(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E_,this.L=this.M=!1}He(Ce,ze);var E_="",Bk=/^https?$/i,Uk=["POST","PUT"];L=Ce.prototype;L.Oa=function(t){this.M=t};L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ud.g(),this.C=this.u?ov(this.u):ov(ud),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){lv(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=W.FormData&&t instanceof W.FormData,!(0<=M0(Uk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{S_(this),0<this.B&&((this.L=zk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=$f(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){lv(this,o)}};function zk(t){return Wi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}L.ua=function(){typeof kf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function lv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,T_(t),Ru(t)}function T_(t){t.F||(t.F=!0,Ye(t,"complete"),Ye(t,"error"))}L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),Ru(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ru(this,!0)),Ce.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?I_(this):this.kb())};L.kb=function(){I_(this)};function I_(t){if(t.h&&typeof kf<"u"&&(!t.C[1]||ln(t)!=4||t.da()!=2)){if(t.v&&ln(t)==4)$f(t.La,0,t);else if(Ye(t,"readystatechange"),ln(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(h_)[1]||null;!i&&W.self&&W.self.location&&(i=W.self.location.protocol.slice(0,-1)),r=!Bk.test(i?i.toLowerCase():"")}n=r}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var o=2<ln(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",T_(t)}}finally{Ru(t)}}}}function Ru(t,e){if(t.g){S_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=r}catch{}}}function S_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}L.isActive=function(){return!!this.g};function ln(t){return t.g?t.g.readyState:0}L.da=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jk(e)}};function uv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Hk(t){const e={};t=(t.g&&2<=ln(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ks(t[r]))continue;var n=mk(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}lk(e,function(r){return r.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function C_(t){let e="";return bf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pe(t,e,n))}function No(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function A_(t){this.Ga=0,this.j=[],this.l=new Eu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=No("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=No("baseRetryDelayMs",5e3,t),this.hb=No("retryDelaySeedMs",1e4,t),this.eb=No("forwardChannelMaxRetries",2,t),this.xa=No("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new m_(t&&t.concurrentRequestLimit),this.Ja=new Mk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=A_.prototype;L.ra=8;L.H=1;function Wf(t){if(P_(t),t.H==3){var e=t.W++,n=Vn(t.I);if(pe(n,"SID",t.K),pe(n,"RID",e),pe(n,"TYPE","terminate"),na(t,n),e=new Zs(t,t.l,e),e.L=2,e.A=Au(Vn(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&W.Image&&(new Image().src=e.A,n=!0),n||(e.g=O_(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ea(e)}V_(t)}function xu(t){t.g&&(Qf(t),t.g.cancel(),t.g=null)}function P_(t){xu(t),t.u&&(W.clearTimeout(t.u),t.u=null),jl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function bu(t){if(!g_(t.i)&&!t.m){t.m=!0;var e=t.Na;xs||G0(),bs||(xs(),bs=!0),Mf.add(e,t),t.C=0}}function qk(t,e){return v_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Xs(st(t.Na,t,e),D_(t,t.C)),t.C++,!0)}L.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Zs(this,this.l,t);let o=this.s;if(this.U&&(o?(o=B0(o),U0(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=k_(this,i,e),n=Vn(this.I),pe(n,"RID",t),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),na(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(C_(o)))+"&"+e:this.o&&qf(n,this.o,o)),zf(this.i,i),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",e),pe(n,"SID","null"),i.aa=!0,hd(i,n,null)):hd(i,n,e),this.H=2}}else this.H==3&&(t?cv(this,t):this.j.length==0||g_(this.i)||cv(this))};function cv(t,e){var n;e?n=e.m:n=t.W++;const r=Vn(t.I);pe(r,"SID",t.K),pe(r,"RID",n),pe(r,"AID",t.V),na(t,r),t.o&&t.s&&qf(r,t.o,t.s),n=new Zs(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=k_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zf(t.i,n),hd(n,r,e)}function na(t,e){t.na&&bf(t.na,function(n,r){pe(e,r,n)}),t.h&&c_({},function(n,r){pe(e,r,n)})}function k_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?st(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let l=!0;for(let u=0;u<n;u++){let h=i[u].g;const p=i[u].map;if(h-=o,0>h)o=Math.max(0,i[u].g-100),l=!1;else try{Fk(p,s,"req"+h+"_")}catch{r&&r(p)}}if(l){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function R_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xs||G0(),bs||(xs(),bs=!0),Mf.add(e,t),t.A=0}}function Kf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Xs(st(t.Ma,t),D_(t,t.A)),t.A++,!0)}L.Ma=function(){if(this.u=null,x_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xs(st(this.jb,this),t)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dt(10),xu(this),x_(this))};function Qf(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function x_(t){t.g=new Zs(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Vn(t.wa);pe(e,"RID","rpc"),pe(e,"SID",t.K),pe(e,"AID",t.V),pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pe(e,"TO",t.qa),pe(e,"TYPE","xmlhttp"),na(t,e),t.o&&t.s&&qf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Au(Vn(e)),n.u=null,n.S=!0,s_(n,t)}L.ib=function(){this.v!=null&&(this.v=null,xu(this),Kf(this),dt(19))};function jl(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function b_(t,e){var n=null;if(t.g==e){jl(t),Qf(t),t.g=null;var r=2}else if(fd(t.i,e))n=e.F,y_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Tu(),Ye(r,new t_(r,n)),bu(t)}else R_(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&qk(t,e)||r==2&&Kf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Lr(t,5);break;case 4:Lr(t,10);break;case 3:Lr(t,6);break;default:Lr(t,2)}}}function D_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Lr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=st(t.pb,t);n||(n=new Br("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||Fl(n,"https"),Au(n)),$k(n.toString(),r)}else dt(2);t.H=0,t.h&&t.h.za(e),V_(t),P_(t)}L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),dt(2)):(this.l.info("Failed to ping google.com"),dt(1))};function V_(t){if(t.H=0,t.ma=[],t.h){const e=w_(t.i);(e.length!=0||t.j.length!=0)&&(ev(t.ma,e),ev(t.ma,t.j),t.i.i.length=0,Rf(t.j),t.j.length=0),t.h.ya()}}function N_(t,e,n){var r=n instanceof Br?Vn(n):new Br(n);if(r.g!="")e&&(r.g=e+"."+r.g),$l(r,r.m);else{var i=W.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Br(null);r&&Fl(o,r),e&&(o.g=e),i&&$l(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&pe(r,n,e),pe(r,"VER",t.ra),na(t,r),r}function O_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ce(new Pu({ob:n})):new Ce(t.va),e.Oa(t.J),e}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function L_(){}L=L_.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function Bl(){if(Wi&&!(10<=Number(ik)))throw Error("Environmental error: no available transport.")}Bl.prototype.g=function(t,e){return new bt(t,e)};function bt(t,e){ze.call(this),this.g=new A_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ks(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ks(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new lo(this)}He(bt,ze);bt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=N_(t,null,t.Y),bu(t)};bt.prototype.close=function(){Wf(this.g)};bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lf(t),t=n);e.j.push(new Nk(e.fb++,t)),e.H==3&&bu(e)};bt.prototype.N=function(){this.g.h=null,delete this.j,Wf(this.g),delete this.g,bt.$.N.call(this)};function M_(t){Bf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}He(M_,Bf);function F_(){Uf.call(this),this.status=1}He(F_,Uf);function lo(t){this.g=t}He(lo,L_);lo.prototype.Ba=function(){Ye(this.g,"a")};lo.prototype.Aa=function(t){Ye(this.g,new M_(t))};lo.prototype.za=function(t){Ye(this.g,new F_)};lo.prototype.ya=function(){Ye(this.g,"b")};function Wk(){this.blockSize=-1}function Xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}He(Xt,Wk);Xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Qc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Xt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Qc(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Qc(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Qc(this,r),i=0;break}}this.h=i,this.i+=e};Xt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function le(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var Kk={};function Gf(t){return-128<=t&&128>t?tk(t,function(e){return new le([e|0],0>e?-1:0)}):new le([t|0],0>t?-1:0)}function un(t){if(isNaN(t)||!isFinite(t))return Oi;if(0>t)return Ke(un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pd;return new le(e,0)}function $_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ke($_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(e,8)),r=Oi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=un(Math.pow(e,o)),r=r.R(o).add(un(s))):(r=r.R(n),r=r.add(un(s)))}return r}var pd=4294967296,Oi=Gf(0),md=Gf(1),hv=Gf(16777216);L=le.prototype;L.ea=function(){if(Mt(this))return-Ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pd+r)*e,e*=pd}return t};L.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Cn(this))return"0";if(Mt(this))return"-"+Ke(this).toString(t);for(var e=un(Math.pow(t,6)),n=this,r="";;){var i=zl(n,e).g;n=Ul(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Cn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Cn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mt(t){return t.h==-1}L.X=function(t){return t=Ul(this,t),Mt(t)?-1:Cn(t)?0:1};function Ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new le(n,~t.h).add(md)}L.abs=function(){return Mt(this)?Ke(this):this};L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new le(n,n[n.length-1]&-2147483648?-1:0)};function Ul(t,e){return t.add(Ke(e))}L.R=function(t){if(Cn(this)||Cn(t))return Oi;if(Mt(this))return Mt(t)?Ke(this).R(Ke(t)):Ke(Ke(this).R(t));if(Mt(t))return Ke(this.R(Ke(t)));if(0>this.X(hv)&&0>t.X(hv))return un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,l=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,Ba(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Ba(n,2*r+2*i+1),n[2*r+2*i+1]+=s*l,Ba(n,2*r+2*i+1),n[2*r+2*i+2]+=o*l,Ba(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new le(n,0)};function Ba(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Oo(t,e){this.g=t,this.h=e}function zl(t,e){if(Cn(e))throw Error("division by zero");if(Cn(t))return new Oo(Oi,Oi);if(Mt(t))return e=zl(Ke(t),e),new Oo(Ke(e.g),Ke(e.h));if(Mt(e))return e=zl(t,Ke(e)),new Oo(Ke(e.g),e.h);if(30<t.g.length){if(Mt(t)||Mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=md,r=e;0>=r.X(t);)n=dv(n),r=dv(r);var i=hi(n,1),o=hi(r,1);for(r=hi(r,2),n=hi(n,2);!Cn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=hi(r,1),n=hi(n,1)}return e=Ul(t,i.R(e)),new Oo(i,e)}for(i=Oi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=un(n),s=o.R(e);Mt(s)||0<s.X(t);)n-=r,o=un(n),s=o.R(e);Cn(o)&&(o=md),i=i.add(o),t=Ul(t,s)}return new Oo(i,t)}L.gb=function(t){return zl(this,t).h};L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new le(n,this.h&t.h)};L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new le(n,this.h|t.h)};L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new le(n,this.h^t.h)};function dv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new le(n,t.h)}function hi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new le(i,t.h)}Bl.prototype.createWebChannel=Bl.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;Iu.NO_ERROR=0;Iu.TIMEOUT=8;Iu.HTTP_ERROR=6;n_.COMPLETE="complete";r_.EventType=Js;Js.OPEN="a";Js.CLOSE="b";Js.ERROR="c";Js.MESSAGE="d";ze.prototype.listen=ze.prototype.O;Ce.prototype.listenOnce=Ce.prototype.P;Ce.prototype.getLastError=Ce.prototype.Sa;Ce.prototype.getLastErrorCode=Ce.prototype.Ia;Ce.prototype.getStatus=Ce.prototype.da;Ce.prototype.getResponseJson=Ce.prototype.Wa;Ce.prototype.getResponseText=Ce.prototype.ja;Ce.prototype.send=Ce.prototype.ha;Ce.prototype.setWithCredentials=Ce.prototype.Oa;Xt.prototype.digest=Xt.prototype.l;Xt.prototype.reset=Xt.prototype.reset;Xt.prototype.update=Xt.prototype.j;le.prototype.add=le.prototype.add;le.prototype.multiply=le.prototype.R;le.prototype.modulo=le.prototype.gb;le.prototype.compare=le.prototype.X;le.prototype.toNumber=le.prototype.ea;le.prototype.toString=le.prototype.toString;le.prototype.getBits=le.prototype.D;le.fromNumber=un;le.fromString=$_;var Qk=function(){return new Bl},Gk=function(){return Tu()},Gc=Iu,Yk=n_,Xk=ei,fv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ua=r_,Jk=Ce,Zk=Xt,Li=le;const pv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new b0("@firebase/firestore");function Lo(){return Qr.logLevel}function O(t,...e){if(Qr.logLevel<=re.DEBUG){const n=e.map(Yf);Qr.debug(`Firestore (${uo}): ${t}`,...n)}}function mn(t,...e){if(Qr.logLevel<=re.ERROR){const n=e.map(Yf);Qr.error(`Firestore (${uo}): ${t}`,...n)}}function Ki(t,...e){if(Qr.logLevel<=re.WARN){const n=e.map(Yf);Qr.warn(`Firestore (${uo}): ${t}`,...n)}}function Yf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw mn(e),new Error(e)}function de(t,e){t||q()}function G(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends so{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class tR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nR{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new rt(e)}}class rR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new oR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Qi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new Me(0,0))}static max(){return new K(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends Ls{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ls{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return lR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new F(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new F(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(me.fromString(e))}static fromName(e){return new H(me.fromString(e).popFirst(5))}static empty(){return new H(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new me(e.slice()))}}function uR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new cr(i,H.empty(),e)}function cR(t){return new cr(t.readTime,t.key,-1)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(K.min(),H.empty(),-1)}static max(){return new cr(K.max(),H.empty(),-1)}}function hR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==dR)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(p=>{s[h]=p,++l,l===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new dn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ns(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Jf(r.target.error);this.V.reject(new ns(e,i))}}static open(e,n,r,i){try{return new Xf(n,e.transaction(i,r))}catch(o){throw new ns(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(O("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new mR(n)}}class Mr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Mr.S(Ol())===12.2&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return O("SimpleDb","Removing database:",e),br(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!R0())return!1;if(Mr.C())return!0;const e=Ol(),n=Mr.S(e),r=0<n&&n<10,i=Mr.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(O("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new ns(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new F(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new F(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ns(e,s))},i.onupgradeneeded=o=>{O("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{O("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const l=Xf.open(this.db,e,o?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),x.reject(h))).toPromise();return u.catch(()=>{}),await l.m,u}catch(l){const u=l,h=u.name!=="FirebaseError"&&s<3;if(O("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),this.close(),!h)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class pR{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return br(this.k.delete())}}class ns extends F{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ia(t){return t.name==="IndexedDbTransactionError"}class mR{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(O("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(O("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),br(r)}add(e){return O("SimpleDb","ADD",this.store.name,e,e),br(this.store.add(e))}get(e){return br(this.store.get(e)).next(n=>(n===void 0&&(n=null),O("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return O("SimpleDb","DELETE",this.store.name,e),br(this.store.delete(e))}count(){return O("SimpleDb","COUNT",this.store.name),br(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new x((s,l)=>{o.onerror=u=>{l(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(l,u)=>{s.push(u)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new x((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){O("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new x((r,i)=>{n.onerror=o=>{const s=Jf(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(l=>{l?s.continue():r()}):r()}})}G(e,n){const r=[];return new x((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const l=s.target.result;if(!l)return void i();const u=new pR(l),h=n(l.primaryKey,l.value,u);if(h instanceof x){const p=h.catch(m=>(u.done(),x.reject(m)));r.push(p)}u.isDone?i():u.$===null?l.continue():l.continue(u.$)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function br(t){return new x((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Jf(r.target.error);n(i)}})}let mv=!1;function Jf(t){const e=Mr.S(Ol());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mv||(mv=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Zf._e=-1;function Du(t){return t==null}function Hl(t){return t===0&&1/t==-1/0}function gR(t){return typeof t=="number"&&Number.isInteger(t)&&!Hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}}class za{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??We.EMPTY,this.right=o??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new We(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new We(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(e){return new vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new Xe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new z_("Invalid base64 string: "+o):o}}(e);return new ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(de(!!t),typeof t=="string"){let e=0;const n=vR.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tp(t){const e=t.mapValue.fields.__previous_value__;return ep(e)?tp(e):e}function Ms(t){const e=hr(t.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Fs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ep(t)?4:wR(t)?9007199254740991:10:q()}function gn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ms(t).isEqual(Ms(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=hr(i.timestampValue),l=hr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Gr(i.bytesValue).isEqual(Gr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=be(i.doubleValue),l=be(o.doubleValue);return s===l?Hl(s)===Hl(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Qi(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(gv(s)!==gv(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!gn(s[u],l[u])))return!1;return!0}(t,e);default:return q()}}function $s(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return yv(t.timestampValue,e.timestampValue);case 4:return yv(Ms(t),Ms(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(o,s){const l=Gr(o),u=Gr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=oe(l[h],u[h]);if(p!==0)return p}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=oe(be(o.latitude),be(s.latitude));return l!==0?l:oe(be(o.longitude),be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const l=o.values||[],u=s.values||[];for(let h=0;h<l.length&&h<u.length;++h){const p=Gi(l[h],u[h]);if(p)return p}return oe(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ha.mapValue&&s===Ha.mapValue)return 0;if(o===Ha.mapValue)return 1;if(s===Ha.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const g=oe(u[m],p[m]);if(g!==0)return g;const E=Gi(l[u[m]],h[p[m]]);if(E!==0)return E}return oe(u.length,p.length)}(t.mapValue,e.mapValue);default:throw q()}}function yv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=hr(t),r=hr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function Yi(t){return gd(t)}function gd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=gd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${gd(n.fields[s])}`;return i+"}"}(t.mapValue):q()}function wv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vd(t){return!!t&&"integerValue"in t}function np(t){return!!t&&"arrayValue"in t}function _v(t){return!!t&&"nullValue"in t}function Ev(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function il(t){return!!t&&"mapValue"in t}function rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rs(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=rs(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ft(rs(this.value))}}function H_(t){const e=[];return co(t.fields,(n,r)=>{const i=new Qe([n]);if(il(r)){const o=H_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ot(e,0,K.min(),K.min(),K.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,K.min(),K.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,K.min(),K.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.position=e,this.inclusive=n}}function Tv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Gi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function _R(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{}class Ve extends q_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TR(e,n,r):n==="array-contains"?new CR(e,r):n==="in"?new AR(e,r):n==="not-in"?new PR(e,r):n==="array-contains-any"?new kR(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IR(e,r):new SR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends q_{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Jt(e,n)}matches(e){return W_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function W_(t){return t.op==="and"}function K_(t){return ER(t)&&W_(t)}function ER(t){for(const e of t.filters)if(e instanceof Jt)return!1;return!0}function yd(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Yi(t.value);if(K_(t))return t.filters.map(e=>yd(e)).join(",");{const e=t.filters.map(n=>yd(n)).join(",");return`${t.op}(${e})`}}function Q_(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&Q_(s,i.filters[l]),!0):!1}(t,e):void q()}function G_(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Yi(n.value)}`}(t):t instanceof Jt?function(n){return n.op.toString()+" {"+n.getFilters().map(G_).join(" ,")+"}"}(t):"Filter"}class TR extends Ve{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class IR extends Ve{constructor(e,n){super(e,"in",n),this.keys=Y_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SR extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=Y_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class CR extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return np(n)&&$s(n.arrayValue,this.value)}}class AR extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$s(this.value.arrayValue,n)}}class PR extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$s(this.value.arrayValue,n)}}class kR extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$s(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ce=null}}function Sv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new RR(t,e,n,r,i,o,s)}function rp(t){const e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yi(r)).join(",")),e.ce=n}return e.ce}function ip(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_R(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Iv(t.startAt,e.startAt)&&Iv(t.endAt,e.endAt)}function wd(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function xR(t,e,n,r,i,o,s,l){return new oa(t,e,n,r,i,o,s,l)}function op(t){return new oa(t)}function Cv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X_(t){return t.collectionGroup!==null}function is(t){const e=G(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Xe(Qe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Wl(o,r))}),n.has(Qe.keyField().canonicalString())||e.le.push(new Wl(Qe.keyField(),r))}return e.le}function fn(t){const e=G(t);return e.he||(e.he=bR(e,is(t))),e.he}function bR(t,e){if(t.limitType==="F")return Sv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Wl(i.field,o)});const n=t.endAt?new ql(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ql(t.startAt.position,t.startAt.inclusive):null;return Sv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _d(t,e){const n=t.filters.concat([e]);return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ed(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vu(t,e){return ip(fn(t),fn(e))&&t.limitType===e.limitType}function J_(t){return`${rp(fn(t))}|lt:${t.limitType}`}function di(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G_(i)).join(", ")}]`),Du(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yi(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function Nu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of is(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=Tv(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,is(r),i)||r.endAt&&!function(s,l,u){const h=Tv(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,is(r),i))}(t,e)}function DR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z_(t){return(e,n)=>{let r=!1;for(const i of is(t)){const o=VR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function VR(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?Gi(u,h):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return U_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Te(H.comparator);function Nn(){return NR}const e1=new Te(H.comparator);function zo(...t){let e=e1;for(const n of t)e=e.insert(n.key,n);return e}function t1(t){let e=e1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fr(){return os()}function n1(){return os()}function os(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const OR=new Te(H.comparator),LR=new Xe(H.comparator);function Z(...t){let e=LR;for(const n of t)e=e.add(n);return e}const MR=new Xe(oe);function FR(){return MR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function i1(t){return{integerValue:""+t}}function $R(t,e){return gR(e)?i1(e):r1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this._=void 0}}function jR(t,e,n){return t instanceof Kl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ep(o)&&(o=tp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof js?s1(t,e):t instanceof Bs?a1(t,e):function(i,o){const s=o1(i,o),l=Av(s)+Av(i.Ie);return vd(s)&&vd(i.Ie)?i1(l):r1(i.serializer,l)}(t,e)}function BR(t,e,n){return t instanceof js?s1(t,e):t instanceof Bs?a1(t,e):n}function o1(t,e){return t instanceof Ql?function(r){return vd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Kl extends Ou{}class js extends Ou{constructor(e){super(),this.elements=e}}function s1(t,e){const n=l1(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bs extends Ou{constructor(e){super(),this.elements=e}}function a1(t,e){let n=l1(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class Ql extends Ou{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Av(t){return be(t.integerValue||t.doubleValue)}function l1(t){return np(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof js&&i instanceof js||r instanceof Bs&&i instanceof Bs?Qi(r.elements,i.elements,gn):r instanceof Ql&&i instanceof Ql?gn(r.Ie,i.Ie):r instanceof Kl&&i instanceof Kl}(t.transform,e.transform)}class zR{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ol(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lu{}function u1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h1(t.key,kn.none()):new sa(t.key,t.data,kn.none());{const n=t.data,r=Ft.empty();let i=new Xe(Qe.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ti(t.key,r,new Kt(i.toArray()),kn.none())}}function HR(t,e,n){t instanceof sa?function(i,o,s){const l=i.value.clone(),u=kv(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(i,o,s){if(!ol(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=kv(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(c1(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ss(t,e,n,r){return t instanceof sa?function(o,s,l,u){if(!ol(o.precondition,s))return l;const h=o.value.clone(),p=Rv(o.fieldTransforms,u,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ti?function(o,s,l,u){if(!ol(o.precondition,s))return l;const h=Rv(o.fieldTransforms,u,s),p=s.data;return p.setAll(c1(o)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,l){return ol(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function qR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=o1(r.transform,i||null);o!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,o))}return n||null}function Pv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qi(r,i,(o,s)=>UR(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sa extends Lu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ti extends Lu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kv(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,BR(s,l,n[i]))}return r}function Rv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jR(o,s,e))}return r}class h1 extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WR extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&HR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=u1(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&Qi(this.mutations,e.mutations,(n,r)=>Pv(n,r))&&Qi(this.baseMutations,e.baseMutations,(n,r)=>Pv(n,r))}}class sp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=function(){return OR}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new sp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,te;function YR(t){switch(t){default:return q();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function d1(t){if(t===void 0)return mn("GRPC error has no .code"),k.UNKNOWN;switch(t){case xe.OK:return k.OK;case xe.CANCELLED:return k.CANCELLED;case xe.UNKNOWN:return k.UNKNOWN;case xe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case xe.INTERNAL:return k.INTERNAL;case xe.UNAVAILABLE:return k.UNAVAILABLE;case xe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case xe.NOT_FOUND:return k.NOT_FOUND;case xe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case xe.ABORTED:return k.ABORTED;case xe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case xe.DATA_LOSS:return k.DATA_LOSS;default:return q()}}(te=xe||(xe={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Li([4294967295,4294967295],0);function xv(t){const e=XR().encode(t),n=new Zk;return n.update(e),new Uint8Array(n.digest())}function bv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,o],0)]}class ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Li.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Li.fromNumber(r)));return i.compare(JR)===1&&(i=new Li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=xv(e),[r,i]=bv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ap(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Te===0)return;const n=xv(e),[r,i]=bv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mu(K.min(),i,new Te(oe),Nn(),Z())}}class aa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new aa(r,n,Z(),Z(),Z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class f1{constructor(e,n){this.targetId=e,this.fe=n}}class p1{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dv{constructor(){this.ge=0,this.pe=Nv(),this.ye=ut.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Z(),n=Z(),r=Z();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new aa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Nv()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,de(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ZR{constructor(e){this.Le=e,this.ke=new Map,this.qe=Nn(),this.Qe=Vv(),this.Ke=new Te(oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(wd(o))if(r===0){const s=new H(o.path);this.We(n,s,ot.newNoDocument(s,K.min()))}else de(r===1);else{const s=this.Ze(n);if(s!==r){const l=this.Xe(e),u=l?this.et(l,e,s):1;if(u!==0){this.He(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Gr(r).toUint8Array()}catch(u){if(u instanceof z_)return Ki("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ap(s,i,o)}catch(u){return Ki(u instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const l=this.Ye(s);if(l){if(o.current&&wd(l.target)){const u=new H(l.target.path);this.qe.get(u)!==null||this.st(s,u)||this.We(s,u,ot.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Z();this.Qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.Ye(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Mu(e,n,this.Ke,this.qe,r);return this.qe=Nn(),this.Qe=Vv(),this.Ke=new Te(oe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Dv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Xe(oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Dv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Vv(){return new Te(H.comparator)}function Nv(){return new Te(H.comparator)}const ex={asc:"ASCENDING",desc:"DESCENDING"},tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nx={and:"AND",or:"OR"};class rx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Td(t,e){return t.useProto3Json||Du(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ix(t,e){return Gl(t,e.toTimestamp())}function pn(t){return de(!!t),K.fromTimestamp(function(n){const r=hr(n);return new Me(r.seconds,r.nanos)}(t))}function lp(t,e){return Id(t,e).canonicalString()}function Id(t,e){const n=function(i){return new me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g1(t){const e=me.fromString(t);return de(E1(e)),e}function Sd(t,e){return lp(t.databaseId,e.path)}function Yc(t,e){const n=g1(e);if(n.get(1)!==t.databaseId.projectId)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(y1(n))}function v1(t,e){return lp(t.databaseId,e)}function ox(t){const e=g1(t);return e.length===4?me.emptyPath():y1(e)}function Cd(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y1(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ov(t,e,n){return{name:Sd(t,e),fields:n.value.mapValue.fields}}function sx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(de(p===void 0||typeof p=="string"),ut.fromBase64String(p||"")):(de(p===void 0||p instanceof Uint8Array),ut.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const p=h.code===void 0?k.UNKNOWN:d1(h.code);return new F(p,h.message||"")}(s);n=new p1(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yc(t,r.document.name),o=pn(r.document.updateTime),s=r.document.createTime?pn(r.document.createTime):K.min(),l=new Ft({mapValue:{fields:r.document.fields}}),u=ot.newFoundDocument(i,o,s,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new sl(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yc(t,r.document),o=r.readTime?pn(r.readTime):K.min(),s=ot.newNoDocument(i,o),l=r.removedTargetIds||[];n=new sl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yc(t,r.document),o=r.removedTargetIds||[];n=new sl([],o,i,null)}else{if(!("filter"in e))return q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new GR(i,o),l=r.targetId;n=new f1(l,s)}}return n}function ax(t,e){let n;if(e instanceof sa)n={update:Ov(t,e.key,e.value)};else if(e instanceof h1)n={delete:Sd(t,e.key)};else if(e instanceof ti)n={update:Ov(t,e.key,e.data),updateMask:gx(e.fieldMask)};else{if(!(e instanceof WR))return q();n={verify:Sd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Kl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ql)return{fieldPath:s.field.canonicalString(),increment:l.Ie};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ix(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(t,e.precondition)),n}function lx(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?pn(i.updateTime):pn(o);return s.isEqual(K.min())&&(s=pn(o)),new zR(s,i.transformResults||[])}(n,e))):[]}function ux(t,e){return{documents:[v1(t,e.path)]}}function cx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v1(t,i);const o=function(h){if(h.length!==0)return _1(Jt.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(p=>function(g){return{field:fi(g.field),direction:fx(g.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Td(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ut:n,parent:i}}function hx(t){let e=ox(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(m){const g=w1(m);return g instanceof Jt&&K_(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(T){return new Wl(pi(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Du(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,E=m.values||[];return new ql(E,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,E=m.values||[];return new ql(E,g)}(n.endAt)),xR(e,i,s,o,l,"F",u,h)}function dx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pi(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pi(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pi(n.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pi(n.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(pi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jt.create(n.compositeFilter.filters.map(r=>w1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function fx(t){return ex[t]}function px(t){return tx[t]}function mx(t){return nx[t]}function fi(t){return{fieldPath:t.canonicalString()}}function pi(t){return Qe.fromServerFormat(t.fieldPath)}function _1(t){return t instanceof Ve?function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NAN"}};if(_v(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NOT_NAN"}};if(_v(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fi(n.field),op:px(n.op),value:n.value}}}(t):t instanceof Jt?function(n){const r=n.getFilters().map(i=>_1(i));return r.length===1?r[0]:{compositeFilter:{op:mx(n.op),filters:r}}}(t):q()}function gx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function E1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r,i,o=K.min(),s=K.min(),l=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Qn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.ct=e}}function yx(t){const e=hx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this._n=new _x}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(cr.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class _x{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xi(0)}static Bn(){return new Xi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ss(r.mutation,i,Kt.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=Fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zo();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Nn();const s=os(),l=function(){return os()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof ti)?o=o.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),ss(p.mutation,h,p.mutation.getFieldMask(),Me.now())):s.set(h.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,p)=>s.set(h,p)),n.forEach((h,p)=>{var m;return l.set(h,new Tx(p,(m=s.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=os();let i=new Te((s,l)=>s-l),o=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Kt.empty();p=l.applyToLocalView(h,p),r.set(u,p);const m=(i.get(l.batchId)||Z()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,m=n1();p.forEach(g=>{if(!o.has(g)){const E=u1(n.get(g),r.get(g));E!==null&&m.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Fr());let l=-1,u=o;return s.next(h=>x.forEach(h,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(p)?x.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{u=u.insert(p,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,Z())).next(p=>({batchId:l,changes:t1(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=zo();return this.indexManager.getCollectionParents(e,o).next(l=>x.forEach(l,u=>{const h=function(m,g){return new oa(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,ot.newInvalidDocument(p)))});let l=zo();return s.forEach((u,h)=>{const p=o.get(u);p!==void 0&&ss(p.mutation,h,Kt.empty(),Me.now()),Nu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:yx(i.bundledQuery),readTime:pn(i.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.overlays=new Te(H.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fr();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Fr(),o=n.length+1,s=new H(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Te((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=Fr(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=Fr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return x.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QR(n,r));let o=this.hr.get(n);o===void 0&&(o=Z(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Pr=new Xe($e.Ir),this.Tr=new Xe($e.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new $e(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new $e(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new H(new me([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new H(new me([])),r=new $e(n,e),i=new $e(n,e+1);let o=Z();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $e(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $e{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||oe(e.pr,n.pr)}static Er(e,n){return oe(e.pr,n.pr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Xe($e.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new KR(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.wr=this.wr.add(new $e(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const l=this.Sr(s.pr);o.push(l)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(oe);return n.forEach(i=>{const o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],l=>{r=r.add(l.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;H.isDocumentKey(o)||(o=o.child(""));const s=new $e(new H(o),0);let l=new Xe(oe);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},s),x.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{const o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new $e(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.vr=e,this.docs=function(){return new Te(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Nn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ot.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Nn();const s=n.path,l=new H(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||hR(cR(p),r)<=0||(i.has(p.key)||Nu(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kx(this)}getSize(e){return x.resolve(this.size)}}class kx extends Ex{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.persistence=e,this.Mr=new ho(n=>rp(n),ip),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Or=0,this.Nr=new up,this.targetCount=0,this.Br=Xi.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Xi(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Zf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Rx(this),this.indexManager=new wx,this.remoteDocumentCache=function(i){return new Px(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new vx(n),this.$r=new Sx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Ax(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const i=new bx(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return x.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class bx extends fR{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.zr=new up,this.jr=null}static Hr(e){return new cp(e)}get Jr(){if(this.jr)return this.jr;throw q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{const i=H.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,K.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Z(),i=Z();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return OA()?8:Mr.v(Ol())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Dx;return this.Ji(e,n,s).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,s,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Lo()<=re.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",di(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(Lo()<=re.DEBUG&&O("QueryEngine","Query:",di(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Lo()<=re.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",di(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):x.resolve())}ji(e,n){if(Cv(n))return x.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ed(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Z(...o);return this.zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,s,u.readTime)?this.ji(e,Ed(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return Cv(n)||i.isEqual(K.min())?x.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?x.resolve(null):(Lo()<=re.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),di(n)),this.es(e,s,n,uR(i,-1)).next(l=>l))})}Zi(e,n){let r=new Xe(Z_(e));return n.forEach((i,o)=>{Nu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Lo()<=re.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",di(n)),this.zi.getDocumentsMatchingQuery(e,n,cr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Te(oe),this.rs=new ho(o=>rp(o),ip),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Ox(t,e,n,r){return new Nx(t,e,n,r)}async function T1(t,e){const n=G(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=Z();for(const h of i){s.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of o){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:s,addedBatchIds:l}))})})}function Lx(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const m=h.batch,g=m.keys();let E=x.resolve();return g.forEach(T=>{E=E.next(()=>p.getEntry(u,T)).next(I=>{const P=h.docVersions.get(T);de(P!==null),I.version.compareTo(P)<0&&(m.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),p.addEntry(I)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Z();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function I1(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Mx(t,e){const n=G(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((p,m)=>{const g=i.get(m);if(!g)return;l.push(n.Qr.removeMatchingKeys(o,p.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(o,p.addedDocuments,m)));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(ut.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(m,E),function(I,P,w){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,E,p)&&l.push(n.Qr.updateTargetData(o,E))});let u=Nn(),h=Z();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),l.push(Fx(o,s,e.documentUpdates).next(p=>{u=p.cs,h=p.ls})),!r.isEqual(K.min())){const p=n.Qr.getLastRemoteSnapshotVersion(o).next(m=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(p)}return x.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.ns=i,o))}function Fx(t,e,n){let r=Z(),i=Z();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Nn();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):O("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:s,ls:i}})}function $x(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jx(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Qn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ad(t,e,n){const r=G(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ia(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Lv(t,e,n){const r=G(t);let i=K.min(),o=Z();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,p){const m=G(u),g=m.rs.get(p);return g!==void 0?x.resolve(m.ns.get(g)):m.Qr.getTargetData(h,p)}(r,s,fn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:K.min(),n?o:Z())).next(l=>(Bx(r,DR(e),l),{documents:l,hs:o})))}function Bx(t,e,n){let r=t.ss.get(e)||K.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Mv{constructor(){this.activeTargetIds=FR()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ux{constructor(){this.no=new Mv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Mv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa=null;function Xc(){return qa===null?qa=function(){return 268435456+Math.round(2147483648*Math.random())}():qa++,"0x"+qa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class Wx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const l=Xc(),u=this.bo(n,r.toUriEncodedString());O("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,o,s),this.Co(n,u,h,i).then(p=>(O("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Ki("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}vo(n,r,i,o,s,l){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=Hx[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Xc();return new Promise((s,l)=>{const u=new Jk;u.setWithCredentials(!0),u.listenOnce(Yk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:const p=u.getResponseJson();O(nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Gc.TIMEOUT:O(nt,`RPC '${e}' ${o} timed out`),l(new F(k.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const m=u.getStatus();if(O(nt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const T=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(w)>=0?w:k.UNKNOWN}(E.status);l(new F(T,E.message))}else l(new F(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new F(k.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{O(nt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);O(nt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Fo(e,n,r){const i=Xc(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qk(),l=Gk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");O(nt,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=s.createWebChannel(p,u);let g=!1,E=!1;const T=new qx({lo:P=>{E?O(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(O(nt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),O(nt,`RPC '${e}' stream ${i} sending:`,P),m.send(P))},ho:()=>m.close()}),I=(P,w,y)=>{P.listen(w,_=>{try{y(_)}catch(A){setTimeout(()=>{throw A},0)}})};return I(m,Ua.EventType.OPEN,()=>{E||O(nt,`RPC '${e}' stream ${i} transport opened.`)}),I(m,Ua.EventType.CLOSE,()=>{E||(E=!0,O(nt,`RPC '${e}' stream ${i} transport closed`),T.Vo())}),I(m,Ua.EventType.ERROR,P=>{E||(E=!0,Ki(nt,`RPC '${e}' stream ${i} transport errored:`,P),T.Vo(new F(k.UNAVAILABLE,"The operation could not be completed")))}),I(m,Ua.EventType.MESSAGE,P=>{var w;if(!E){const y=P.data[0];de(!!y);const _=y,A=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(A){O(nt,`RPC '${e}' stream ${i} received error:`,A);const V=A.status;let $=function(ue){const Y=xe[ue];if(Y!==void 0)return d1(Y)}(V),U=A.message;$===void 0&&($=k.INTERNAL,U="Unknown error status: "+V+" with message "+A.message),E=!0,T.Vo(new F($,U)),m.close()}else O(nt,`RPC '${e}' stream ${i} received:`,y),T.mo(y)}}),I(l,Xk.STAT_EVENT,P=>{P.stat===fv.PROXY?O(nt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===fv.NOPROXY&&O(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.Ro()},0),T}}function Jc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){return new rx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,i,o,s,l,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new S1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new F(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kx extends C1{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=sx(this.serializer,e),r=function(o){if(!("targetChange"in o))return K.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?pn(s.readTime):K.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=wd(u)?{documents:ux(o,u)}:{query:cx(o,u).ut},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=m1(o,s.resumeToken);const h=Td(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(K.min())>0){l.readTime=Gl(o,s.snapshotVersion.toTimestamp());const h=Td(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=dx(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.t_(n)}}class Qx extends C1{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=lx(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.T_(r,n)}return de(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Cd(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ax(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Id(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(k.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,Id(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(k.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Yx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(mn(n),this.g_=!1):O("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{ni(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=G(u);h.v_.add(4),await la(h),h.x_.set("Unknown"),h.v_.delete(4),await $u(h)}(this))})}),this.x_=new Yx(r,i)}}async function $u(t){if(ni(t))for(const e of t.F_)await e(!0)}async function la(t){for(const e of t.F_)await e(!1)}function A1(t,e){const n=G(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),pp(n)?fp(n):fo(n).Jo()&&dp(n,e))}function P1(t,e){const n=G(t),r=fo(n);n.C_.delete(e),r.Jo()&&k1(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ni(n)&&n.x_.set("Unknown"))}function dp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(t).c_(e)}function k1(t,e){t.O_.Oe(e),fo(t).l_(e)}function fp(t){t.O_=new ZR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),fo(t).start(),t.x_.p_()}function pp(t){return ni(t)&&!fo(t).Ho()&&t.C_.size>0}function ni(t){return G(t).v_.size===0}function R1(t){t.O_=void 0}async function Jx(t){t.C_.forEach((e,n)=>{dp(t,e)})}async function Zx(t,e){R1(t),pp(t)?(t.x_.S_(e),fp(t)):t.x_.set("Unknown")}async function eb(t,e,n){if(t.x_.set("Online"),e instanceof p1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yl(t,r)}else if(e instanceof sl?t.O_.$e(e):e instanceof f1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(K.min()))try{const r=await I1(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.O_.it(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.C_.get(h);p&&o.C_.set(h,p.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const p=o.C_.get(u);if(!p)return;o.C_.set(u,p.withResumeToken(ut.EMPTY_BYTE_STRING,p.snapshotVersion)),k1(o,u);const m=new Qn(p.target,u,h,p.sequenceNumber);dp(o,m)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await Yl(t,r)}}async function Yl(t,e,n){if(!ia(e))throw e;t.v_.add(1),await la(t),t.x_.set("Offline"),n||(n=()=>I1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await $u(t)})}function x1(t,e){return e().catch(n=>Yl(t,n,e))}async function ju(t){const e=G(t),n=dr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;tb(e);)try{const i=await $x(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,nb(e,i)}catch(i){await Yl(e,i)}b1(e)&&D1(e)}function tb(t){return ni(t)&&t.D_.length<10}function nb(t,e){t.D_.push(e);const n=dr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function b1(t){return ni(t)&&!dr(t).Ho()&&t.D_.length>0}function D1(t){dr(t).start()}async function rb(t){dr(t).d_()}async function ib(t){const e=dr(t);for(const n of t.D_)e.I_(n.mutations)}async function ob(t,e,n){const r=t.D_.shift(),i=sp.from(r,e,n);await x1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ju(t)}async function sb(t,e){e&&dr(t).P_&&await async function(r,i){if(function(s){return YR(s)&&s!==k.ABORTED}(i.code)){const o=r.D_.shift();dr(r).Zo(),await x1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ju(r)}}(t,e),b1(t)&&D1(t)}async function $v(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=ni(n);n.v_.add(3),await la(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await $u(n)}async function ab(t,e){const n=G(t);e?(n.v_.delete(2),await $u(n)):e||(n.v_.add(2),await la(n),n.x_.set("Unknown"))}function fo(t){return t.N_||(t.N_=function(n,r,i){const o=G(n);return o.R_(),new Kx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Jx.bind(null,t),To:Zx.bind(null,t),u_:eb.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),pp(t)?fp(t):t.x_.set("Unknown")):(await t.N_.stop(),R1(t))})),t.N_}function dr(t){return t.B_||(t.B_=function(n,r,i){const o=G(n);return o.R_(),new Qx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:rb.bind(null,t),To:sb.bind(null,t),E_:ib.bind(null,t),T_:ob.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ju(t)):(await t.B_.stop(),t.D_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new mp(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(t,e){if(mn("AsyncQueue",`${e}: ${t}`),ia(t))return new F(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=zo(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new Mi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.L_=new Te(H.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):q():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ji{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Ji(e,n,Mi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.q_=void 0,this.Q_=[]}}class ub{constructor(){this.queries=new ho(e=>J_(e),Vu),this.onlineState="Unknown",this.K_=new Set}}async function V1(t,e){const n=G(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new lb),i)try{o.q_=await n.onListen(r)}catch(s){const l=gp(s,`Initialization of query '${di(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&vp(n)}async function N1(t,e){const n=G(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cb(t,e){const n=G(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.Q_)l.W_(i)&&(r=!0);s.q_=i}}r&&vp(n)}function hb(t,e,n){const r=G(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function vp(t){t.K_.forEach(e=>{e.next()})}class O1{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ji(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ji.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class db{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Z(),this.mutatedKeys=Z(),this.ua=Z_(e),this.ca=new Mi(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new jv,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const g=i.get(p),E=Nu(this.query,m)?m:null,T=!!g&&this.mutatedKeys.has(g.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;g&&E?g.data.isEqual(E.data)?T!==I&&(r.track({type:3,doc:E}),P=!0):this.Ia(g,E)||(r.track({type:2,doc:E}),P=!0,(u&&this.ua(E,u)>0||h&&this.ua(E,h)<0)&&(l=!0)):!g&&E?(r.track({type:0,doc:E}),P=!0):g&&!E&&(r.track({type:1,doc:g}),P=!0,(u||h)&&(l=!0)),P&&(E?(s=s.add(E),o=I?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{ca:s,Pa:r,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((p,m)=>function(E,T){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return I(E)-I(T)}(p.type,m.type)||this.ua(p.doc,m.doc)),this.Ta(r),i=i!=null&&i;const l=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,h=u!==this._a;return this._a=u,s.length!==0||h?{snapshot:new Ji(this.query,e.ca,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new jv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Z(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new M1(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new L1(r))}),n}Ra(e){this.oa=e.hs,this.aa=Z();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ji.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class fb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pb{constructor(e){this.key=e,this.ma=!1}}class mb{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ho(l=>J_(l),Vu),this.pa=new Map,this.ya=new Set,this.wa=new Te(H.comparator),this.Sa=new Map,this.ba=new up,this.Da={},this.Ca=new Map,this.va=Xi.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function gb(t,e){const n=Ab(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await jx(n.localStore,fn(e)),l=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await vb(n,e,r,l==="current",s.resumeToken),n.isPrimaryClient&&A1(n.remoteStore,s)}return i}async function vb(t,e,n,r,i){t.Ma=(m,g,E)=>async function(I,P,w,y){let _=P.view.ha(w);_.Xi&&(_=await Lv(I.localStore,P.query,!1).then(({documents:U})=>P.view.ha(U,_)));const A=y&&y.targetChanges.get(P.targetId),V=y&&y.targetMismatches.get(P.targetId)!=null,$=P.view.applyChanges(_,I.isPrimaryClient,A,V);return Uv(I,P.targetId,$.da),$.snapshot}(t,m,g,E);const o=await Lv(t.localStore,e,!0),s=new db(e,o.hs),l=s.ha(o.documents),u=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);Uv(t,n,h.da);const p=new fb(e,n,s);return t.ga.set(e,p),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot}async function yb(t,e){const n=G(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Vu(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ad(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),P1(n.remoteStore,r.targetId),Pd(n,r.targetId)}).catch(ra)):(Pd(n,r.targetId),await Ad(n.localStore,r.targetId,!0))}async function wb(t,e,n){const r=Pb(t);try{const i=await function(s,l){const u=G(s),h=Me.now(),p=l.reduce((E,T)=>E.add(T.key),Z());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=Nn(),I=Z();return u.os.getEntries(E,p).next(P=>{T=P,T.forEach((w,y)=>{y.isValidDocument()||(I=I.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(P=>{m=P;const w=[];for(const y of l){const _=qR(y,m.get(y.key).overlayedDocument);_!=null&&w.push(new ti(y.key,_,H_(_.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,w,l)}).next(P=>{g=P;const w=P.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(E,P.batchId,w)})}).then(()=>({batchId:g.batchId,changes:t1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.Da[s.currentUser.toKey()];h||(h=new Te(oe)),h=h.insert(l,u),s.Da[s.currentUser.toKey()]=h}(r,i.batchId,n),await ua(r,i.changes),await ju(r.remoteStore)}catch(i){const o=gp(i,"Failed to persist write");n.reject(o)}}async function F1(t,e){const n=G(t);try{const r=await Mx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?de(s.ma):i.removedDocuments.size>0&&(de(s.ma),s.ma=!1))}),await ua(n,r,e)}catch(r){await ra(r)}}function Bv(t,e,n){const r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const l=s.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=G(s);u.onlineState=l;let h=!1;u.queries.forEach((p,m)=>{for(const g of m.Q_)g.U_(l)&&(h=!0)}),h&&vp(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _b(t,e,n){const r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Te(H.comparator);s=s.insert(o,ot.newNoDocument(o,K.min()));const l=Z().add(o),u=new Mu(K.min(),new Map,new Te(oe),s,l);await F1(r,u),r.wa=r.wa.remove(o),r.Sa.delete(e),yp(r)}else await Ad(r.localStore,e,!1).then(()=>Pd(r,e,n)).catch(ra)}async function Eb(t,e){const n=G(t),r=e.batch.batchId;try{const i=await Lx(n.localStore,e);j1(n,r,null),$1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ua(n,i)}catch(i){await ra(i)}}async function Tb(t,e,n){const r=G(t);try{const i=await function(s,l){const u=G(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(de(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);j1(r,e,n),$1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ua(r,i)}catch(i){await ra(i)}}function $1(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function j1(t,e,n){const r=G(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Pd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||B1(t,r)})}function B1(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(P1(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),yp(t))}function Uv(t,e,n){for(const r of n)r instanceof L1?(t.ba.addReference(r.key,e),Ib(t,r)):r instanceof M1?(O("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||B1(t,r.key)):q()}function Ib(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(O("SyncEngine","New document in limbo: "+n),t.ya.add(r),yp(t))}function yp(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new H(me.fromString(e)),r=t.va.next();t.Sa.set(r,new pb(n)),t.wa=t.wa.insert(n,r),A1(t.remoteStore,new Qn(fn(op(n.path)),r,"TargetPurposeLimboResolution",Zf._e))}}async function ua(t,e,n){const r=G(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((l,u)=>{s.push(r.Ma(u,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const p=hp.Ki(u.targetId,h);o.push(p)}}))}),await Promise.all(s),r.fa.u_(i),await async function(u,h){const p=G(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>x.forEach(h,g=>x.forEach(g.qi,E=>p.persistence.referenceDelegate.addReference(m,g.targetId,E)).next(()=>x.forEach(g.Qi,E=>p.persistence.referenceDelegate.removeReference(m,g.targetId,E)))))}catch(m){if(!ia(m))throw m;O("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const E=p.ns.get(g),T=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(T);p.ns=p.ns.insert(g,I)}}}(r.localStore,o))}async function Sb(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await T1(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(l=>{l.forEach(u=>{u.reject(new F(k.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ua(n,r.us)}}function Cb(t,e){const n=G(t),r=n.Sa.get(e);if(r&&r.ma)return Z().add(r.key);{let i=Z();const o=n.pa.get(e);if(!o)return i;for(const s of o){const l=n.ga.get(s);i=i.unionWith(l.view.la)}return i}}function Ab(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_b.bind(null,e),e.fa.u_=cb.bind(null,e.eventManager),e.fa.xa=hb.bind(null,e.eventManager),e}function Pb(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tb.bind(null,e),e}class zv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ox(this.persistence,new Vx,e.initialUser,this.serializer)}createPersistence(e){return new xx(cp.Hr,this.serializer)}createSharedClientState(e){return new Ux}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sb.bind(null,this.syncEngine),await ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ub}()}createDatastore(e){const n=Fu(e.databaseInfo.databaseId),r=function(o){return new Wx(o)}(e.databaseInfo);return function(o,s,l,u){return new Gx(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new Xx(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Bv(this.syncEngine,n,0),function(){return Fv.D()?new Fv:new zx}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,p){const m=new mb(i,o,s,l,u,h);return p&&(m.Fa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=G(r);O("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await la(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=B_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{O("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(O("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zc(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await T1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bb(t);O("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$v(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$v(e.remoteStore,i)),t._onlineComponents=e}function xb(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function bb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xb(n))throw n;Ki("Error using user provided cache. Falling back to memory cache: "+n),await Zc(t,new zv)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await Zc(t,new zv);return t._offlineComponents}async function z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await Hv(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await Hv(t,new kb))),t._onlineComponents}function Db(t){return z1(t).then(e=>e.syncEngine)}async function H1(t){const e=await z1(t),n=e.eventManager;return n.onListen=gb.bind(null,e.syncEngine),n.onUnlisten=yb.bind(null,e.syncEngine),n}function Vb(t,e,n={}){const r=new dn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const p=new U1({next:g=>{s.enqueueAndForget(()=>N1(o,m));const E=g.docs.has(l);!E&&g.fromCache?h.reject(new F(k.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?h.reject(new F(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new O1(op(l.path),p,{includeMetadataChanges:!0,Z_:!0});return V1(o,m)}(await H1(t),t.asyncQueue,e,n,r)),r.promise}function Nb(t,e,n={}){const r=new dn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const p=new U1({next:g=>{s.enqueueAndForget(()=>N1(o,m)),g.fromCache&&u.source==="server"?h.reject(new F(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new O1(l,p,{includeMetadataChanges:!0,Z_:!0});return V1(o,m)}(await H1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e,n){if(!n)throw new F(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ob(t,e,n,r){if(e===!0&&r===!0)throw new F(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Wv(t){if(!H.isDocumentKey(t))throw new F(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kv(t){if(H.isDocumentKey(t))throw new F(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bu(t);throw new F(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ob("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eR;switch(r.type){case"firstParty":return new iR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qv.get(n);r&&(O("ComponentProvider","Removing Datastore"),qv.delete(n),r.terminate())}(this),Promise.resolve()}}function Lb(t,e,n,r={}){var i;const o=(t=Zi(t,Uu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=rt.MOCK_USER;else{l=VA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new F(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new rt(h)}t._authCredentials=new tR(new j_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class ar extends po{constructor(e,n,r){super(e,n,op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new H(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function K1(t,e,...n){if(t=qi(t),W1("collection","path",e),t instanceof Uu){const r=me.fromString(e,...n);return Kv(r),new ar(t,null,r)}{if(!(t instanceof Rt||t instanceof ar))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return Kv(r),new ar(t.firestore,null,r)}}function Q1(t,e,...n){if(t=qi(t),arguments.length===1&&(e=B_.newId()),W1("doc","path",e),t instanceof Uu){const r=me.fromString(e,...n);return Wv(r),new Rt(t,null,new H(r))}{if(!(t instanceof Rt||t instanceof ar))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return Wv(r),new Rt(t.firestore,t instanceof ar?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new S1(this,"async_queue_retry"),this._u=()=>{const n=Jc();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Jc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Jc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new dn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ia(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=mp.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&q()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class zu extends Uu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Mb}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||G1(this),this._firestoreClient.terminate()}}function Fb(t,e){const n=typeof t=="object"?t:FP(),r=typeof t=="string"?t:e||"(default)",i=NP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=bA("firestore");o&&Lb(i,...o)}return i}function wp(t){return t._firestoreClient||G1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function G1(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,p){return new yR(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,q1(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Rb(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(ut.fromBase64String(e))}catch(n){throw new F(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^__.*__$/;class jb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new sa(e,this.data,n,this.fieldTransforms)}}function X1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class Tp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Xl(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(X1(this.du)&&$b.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Bb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fu(e)}Su(e,n,r,i=!1){return new Tp({du:e,methodName:n,wu:r,path:Qe.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J1(t){const e=t._freezeSettings(),n=Fu(t._databaseId);return new Bb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ub(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);tE("Data must be an object, but it was:",s,r);const l=Z1(r,s);let u,h;if(o.merge)u=new Kt(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const p=[];for(const m of o.mergeFields){const g=Hb(e,m,n);if(!s.contains(g))throw new F(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Wb(p,g)||p.push(g)}u=new Kt(p),h=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=s.fieldTransforms;return new jb(new Ft(l),u,h)}function zb(t,e,n,r=!1){return Ip(n,t.Su(r?4:3,e))}function Ip(t,e){if(eE(t=qi(t)))return tE("Unsupported field value:",e,t),Z1(t,e);if(t instanceof Y1)return function(r,i){if(!X1(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=Ip(l,i.gu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=qi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $R(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Me.fromDate(r);return{timestampValue:Gl(i.serializer,o)}}if(r instanceof Me){const o=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(i.serializer,o)}}if(r instanceof Ep)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:m1(i.serializer,r._byteString)};if(r instanceof Rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Bu(r)}`)}(t,e)}function Z1(t,e){const n={};return U_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{const o=Ip(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof Ep||t instanceof eo||t instanceof Rt||t instanceof Y1)}function tE(t,e,n){if(!eE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bu(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Hb(t,e,n){if((e=qi(e))instanceof _p)return e._internalPath;if(typeof e=="string")return nE(t,e);throw Xl("Field path arguments must be of type string or ",t,!1,void 0,n)}const qb=new RegExp("[~\\*/\\[\\]]");function nE(t,e,n){if(e.search(qb)>=0)throw Xl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _p(...e.split("."))._internalPath}catch{throw Xl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(k.INVALID_ARGUMENT,l+t+u)}function Wb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kb extends rE{data(){return super.data()}}function Sp(t,e){return typeof e=="string"?nE(t,e):e instanceof _p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}class Gb extends Cp{}function Yb(t,e,...n){let r=[];e instanceof Cp&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Ap).length,l=o.filter(u=>u instanceof Hu).length;if(s>1||s>0&&l>0)throw new F(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hu extends Gb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hu(e,n,r)}_apply(e){const n=this._parse(e);return iE(e._query,n),new po(e.firestore,e.converter,_d(e._query,n))}_parse(e){const n=J1(e.firestore);return function(o,s,l,u,h,p,m){let g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new F(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Yv(m,p);const E=[];for(const T of m)E.push(Gv(u,o,T));g={arrayValue:{values:E}}}else g=Gv(u,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Yv(m,p),g=zb(l,s,m,p==="in"||p==="not-in");return Ve.create(h,p,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xb(t,e,n){const r=e,i=Sp("where",t);return Hu._create(i,r,n)}class Ap extends Cp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ap(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)iE(s,u),s=_d(s,u)}(e._query,n),new po(e.firestore,e.converter,_d(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gv(t,e,n){if(typeof(n=qi(n))=="string"){if(n==="")throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X_(e)&&n.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!H.isDocumentKey(r))throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wv(t,new H(r))}if(n instanceof Rt)return wv(t,n._key);throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bu(n)}.`)}function Yv(t,e){if(!Array.isArray(t)||t.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iE(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Jb{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ep(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ms(e));default:return null}}convertTimestamp(e){const n=hr(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);de(E1(r));const i=new Fs(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||mn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oE extends rE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class al extends oE{data(e={}){return super.data(e)}}class eD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new al(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new al(i._firestore,i._userDataWriter,l.doc.key,l.doc,new qo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new al(i._firestore,i._userDataWriter,l.doc.key,l.doc,new qo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),p=s.indexOf(l.doc.key)),{type:tD(l.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){t=Zi(t,Rt);const e=Zi(t.firestore,zu);return Vb(wp(e),t._key).then(n=>sD(e,t,n))}class sE extends Jb{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function rD(t){t=Zi(t,po);const e=Zi(t.firestore,zu),n=wp(e),r=new sE(e);return Qb(t._query),Nb(n,t._query).then(i=>new eD(e,r,t,i))}function iD(t,e){const n=Zi(t.firestore,zu),r=Q1(t),i=Zb(t.converter,e);return oD(n,[Ub(J1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function oD(t,e){return function(r,i){const o=new dn;return r.asyncQueue.enqueueAndForget(async()=>wb(await Db(r),i,o)),o.promise}(wp(t),e)}function sD(t,e,n){const r=n.docs.get(e._key),i=new sE(t);return new oE(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uo=i})(MP),Ml(new As("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new zu(new nR(r.getProvider("auth-internal")),new sR(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fs(h.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ni(pv,"4.4.1",e),Ni(pv,"4.4.1","esm2017")})();var aD="firebase",lD="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(aD,lD,"app");const uD={apiKey:"AIzaSyBUIRziLbLZ-g95-mfZdTwl2XCTZ9v54Bg",authDomain:"proyecto-react-aquiere.firebaseapp.com",projectId:"proyecto-react-aquiere",storageBucket:"proyecto-react-aquiere.appspot.com",messagingSenderId:"1027281315179",appId:"1:1027281315179:web:90d8e610d2fdfecf2c582e"};N0(uD);const Pp=Fb();var aE={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.cssValue=to.parseLengthAndUnit=void 0;var cD={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function lE(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return cD[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}to.parseLengthAndUnit=lE;function hD(t){var e=lE(t);return"".concat(e.value).concat(e.unit)}to.cssValue=hD;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.createAnimation=void 0;var dD=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,s=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(s,0),r};qu.createAnimation=dD;var Un=je&&je.__assign||function(){return Un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Un.apply(this,arguments)},fD=je&&je.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pD=je&&je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mD=je&&je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&fD(e,t,n);return pD(e,t),e},gD=je&&je.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(aE,"__esModule",{value:!0});var eh=mD(D),th=to,vD=qu,Xv=(0,vD.createAnimation)("MoonLoader","100% {transform: rotate(360deg)}","moon");function yD(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,o=t.speedMultiplier,s=o===void 0?1:o,l=t.cssOverride,u=l===void 0?{}:l,h=t.size,p=h===void 0?60:h,m=gD(t,["loading","color","speedMultiplier","cssOverride","size"]),g=(0,th.parseLengthAndUnit)(p),E=g.value,T=g.unit,I=E/7,P=Un({display:"inherit",position:"relative",width:"".concat("".concat(E+I*2).concat(T)),height:"".concat("".concat(E+I*2).concat(T)),animation:"".concat(Xv," ").concat(.6/s,"s 0s infinite linear"),animationFillMode:"forwards"},u),w=function(A){return{width:(0,th.cssValue)(A),height:(0,th.cssValue)(A),borderRadius:"100%"}},y=Un(Un({},w(I)),{backgroundColor:"".concat(i),opacity:"0.8",position:"absolute",top:"".concat("".concat(E/2-I/2).concat(T)),animation:"".concat(Xv," ").concat(.6/s,"s 0s infinite linear"),animationFillMode:"forwards"}),_=Un(Un({},w(E)),{border:"".concat(I,"px solid ").concat(i),opacity:"0.1",boxSizing:"content-box",position:"absolute"});return n?eh.createElement("span",Un({style:P},m),eh.createElement("span",{style:y}),eh.createElement("span",{style:_})):null}var wD=aE.default=yD;const Jv=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!0),{categoria:i}=_0();return D.useEffect(()=>{r(!0);let o;const s=K1(Pp,"products");i?o=Yb(s,Xb("categoria","==",i)):o=s,rD(o).then(l=>{let u=l.docs.map(h=>({id:h.id,...h.data()}));e(u)}).catch(l=>console.log(l)).finally(()=>r(!1))},[i]),R.jsx(R.Fragment,{children:n?R.jsx("div",{className:"algo",children:R.jsx(wD,{color:"#ff0000"})}):R.jsxs("div",{children:[R.jsx("h1",{children:" "}),R.jsx(EA,{productos:t})]})})},_D=({stock:t,agregarAlCarrito:e})=>{const[n,r]=D.useState(1),i=()=>{n<t&&r(n+1)},o=()=>{n>1&&r(n-1)};return R.jsxs("div",{className:"item-cunt",children:[R.jsxs("div",{className:"controles",children:[R.jsx("button",{onClick:o,children:"-"}),R.jsx("div",{children:n}),R.jsx("button",{onClick:i,children:"+"})]}),R.jsx("button",{className:"terminar-boton",onClick:()=>e(n),children:"Agregar al Carrito"})]})},ED=({producto:t})=>{const[e,n]=D.useState(!1),{añadirProducto:r}=D.useContext(Qs),i=o=>{const s={...t,cantidad:o};r(s),n(!0)};return R.jsxs("div",{className:"item-detail",children:[R.jsx("img",{className:"imagen",src:t.imagen,alt:t.nombre}),R.jsxs("div",{className:"texto",children:[R.jsx("h2",{children:t.nombre}),R.jsx("p",{children:t.description}),R.jsxs("p",{className:"precio-detalle",children:["$",t.precio]}),R.jsx(_D,{stock:t.stock,agregarAlCarrito:i})]})]})},TD=()=>{const[t,e]=D.useState({}),[n,r]=D.useState(!1),{id:i}=_0();return D.useEffect(()=>{const o=Q1(Pp,"products",i);nD(o).then(s=>{const l={id:s.id,...s.data()};console.log(l),s.exists()?e(l):r(!0),e(l),console.log(l)}).catch(s=>{console.error("Error obteniendo documento:",s)})},[i]),R.jsx("div",{children:n?R.jsxs("div",{className:"no-existe",children:[R.jsx("h2",{children:"Producto no existe"}),R.jsx("button",{className:"boton",children:R.jsx(sn,{to:"/",children:" Volver al Inicio"})})]}):R.jsx(ED,{producto:t})})},ID=()=>R.jsx("div",{children:R.jsx("p",{children:"404 not found"})}),SD=()=>{const{carrito:t,borrarCarrito:e,borrarProducto:n,totalPrecio:r}=D.useContext(Qs);return t.length===0?R.jsxs("div",{className:"cartel-carrito",children:[R.jsx("h2",{children:"El carrito esta vacio"}),R.jsx("h5",{children:"Una vez que añadas algo a tu carrito, aparecerá acá. ¿Listo para empezar?"}),R.jsx(sn,{className:"boton",to:"/",children:"Empezar!"})]}):R.jsxs("div",{className:"carrito",children:[R.jsx("h1",{children:"Carrito"}),R.jsx("ul",{className:"lista",children:t.map(i=>R.jsxs("li",{className:"producto",children:[R.jsx("img",{className:"imagen",src:i.imagen,alt:i.nombre}),R.jsx("p",{className:"titulo-carrito-nombre",children:i.nombre}),R.jsxs("p",{className:"titulo-carrito",children:["Cantidad: ",i.cantidad]}),R.jsxs("p",{className:"titulo-carrito",children:["$",i.precio]}),R.jsx("button",{className:"borrar-producto",onClick:()=>n(i.id),children:"Eliminar producto"})]},i.id))}),R.jsxs("div",{className:"carrito-p2",children:[R.jsxs("h3",{children:["Total a pagar: $",r()]}),R.jsx("button",{className:"borrar-carrito",onClick:e,children:"Vaciar Carrito"}),R.jsx(sn,{to:"/checkout",children:R.jsx("button",{className:"continuar-compra",children:"continuar con mi compra"})})]})]})},CD=({datosForm:t,guardarDatosImput:e,enviarOrden:n})=>R.jsxs("div",{className:"formulario-1",children:[R.jsx("h2",{children:"Complete este formulario para continuar con la compra:"}),R.jsxs("form",{className:"formulario",onSubmit:n,children:[R.jsx("label",{htmlFor:"nombre",children:"Nombre"}),R.jsx("input",{className:"text-formulario",type:"text",id:"nombre",name:"nombre",value:t.nombre,onChange:e,required:!0}),R.jsx("label",{htmlFor:"telefono",children:"Telefono"}),R.jsx("input",{className:"text-formulario",type:"text",id:"telefono",name:"telefono",value:t.telefono,onChange:e,required:!0}),R.jsx("label",{htmlFor:"email",children:"Email"}),R.jsx("input",{className:"text-formulario",type:"email",id:"email",name:"email",value:t.email,onChange:e,required:!0}),R.jsx("label",{htmlFor:"emailRepetido",children:"Repetir Email"}),R.jsx("input",{className:"text-formulario",type:"email",id:"emailRepetido",name:"emailRepetido",value:t.emailRepetido,onChange:e,required:!0}),R.jsx("button",{className:"text-formulario",tipe:"submit",children:"Enviar orden"})]})]});var uE={exports:{}};/*!
* sweetalert2 v11.10.4
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(je,function(){function n(f,a,c){return a=E(a),P(f,i()?Reflect.construct(a,c||[],E(f).constructor):a.apply(f,c))}function r(f,a,c){if(i())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,a);var v=new(f.bind.apply(f,d));return c&&T(v,c.prototype),v}function i(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i=function(){return!!f})()}function o(f,a){var c=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(c!=null){var d,v,C,M,X=[],J=!0,Ie=!1;try{if(C=(c=c.call(f)).next,a===0){if(Object(c)!==c)return;J=!1}else for(;!(J=(d=C.call(c)).done)&&(X.push(d.value),X.length!==a);J=!0);}catch(Co){Ie=!0,v=Co}finally{try{if(!J&&c.return!=null&&(M=c.return(),Object(M)!==M))return}finally{if(Ie)throw v}}return X}}function s(f,a){if(typeof f!="object"||!f)return f;var c=f[Symbol.toPrimitive];if(c!==void 0){var d=c.call(f,a||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(f)}function l(f){var a=s(f,"string");return typeof a=="symbol"?a:String(a)}function u(f){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},u(f)}function h(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function p(f,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,l(d.key),d)}}function m(f,a,c){return a&&p(f.prototype,a),c&&p(f,c),Object.defineProperty(f,"prototype",{writable:!1}),f}function g(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),a&&T(f,a)}function E(f){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},E(f)}function T(f,a){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,v){return d.__proto__=v,d},T(f,a)}function I(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function P(f,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(f)}function w(f,a){for(;!Object.prototype.hasOwnProperty.call(f,a)&&(f=E(f),f!==null););return f}function y(){return typeof Reflect<"u"&&Reflect.get?y=Reflect.get.bind():y=function(a,c,d){var v=w(a,c);if(v){var C=Object.getOwnPropertyDescriptor(v,c);return C.get?C.get.call(arguments.length<3?a:d):C.value}},y.apply(this,arguments)}function _(f,a){return $(f)||o(f,a)||z(f,a)||Tt()}function A(f){return V(f)||U(f)||z(f)||Y()}function V(f){if(Array.isArray(f))return ue(f)}function $(f){if(Array.isArray(f))return f}function U(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function z(f,a){if(f){if(typeof f=="string")return ue(f,a);var c=Object.prototype.toString.call(f).slice(8,-1);if(c==="Object"&&f.constructor&&(c=f.constructor.name),c==="Map"||c==="Set")return Array.from(f);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ue(f,a)}}function ue(f,a){(a==null||a>f.length)&&(a=f.length);for(var c=0,d=new Array(a);c<a;c++)d[c]=f[c];return d}function Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ln(f,a){var c=mo(f,a,"get");return Wu(f,c)}function wr(f,a,c){var d=mo(f,a,"set");return go(f,d,c),c}function mo(f,a,c){if(!a.has(f))throw new TypeError("attempted to "+c+" private field on non-instance");return a.get(f)}function Wu(f,a){return a.get?a.get.call(f):a.value}function go(f,a,c){if(a.set)a.set.call(f,c);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=c}}function vo(f,a){if(a.has(f))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(f,a,c){vo(f,a),a.set(f,c)}var Q=100,N={},ye=function(){N.previousActiveElement instanceof HTMLElement?(N.previousActiveElement.focus(),N.previousActiveElement=null):document.body&&document.body.focus()},Re=function(a){return new Promise(function(c){if(!a)return c();var d=window.scrollX,v=window.scrollY;N.restoreFocusTimeout=setTimeout(function(){ye(),c()},Q),window.scrollTo(d,v)})},_r="swal2-",vn=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],S=vn.reduce(function(f,a){return f[a]=_r+a,f},{}),yn=["success","warning","info","question","error"],wn=yn.reduce(function(f,a){return f[a]=_r+a,f},{}),kp="SweetAlert2:",Ku=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},gt=function(a){console.warn("".concat(kp," ").concat(u(a)==="object"?a.join(" "):a))},Er=function(a){console.error("".concat(kp," ").concat(a))},Rp=[],cE=function(a){Rp.includes(a)||(Rp.push(a),gt(a))},hE=function(a,c){cE('"'.concat(a,'" is deprecated and will be removed in the next major release. Please use "').concat(c,'" instead.'))},ca=function(a){return typeof a=="function"?a():a},Qu=function(a){return a&&typeof a.toPromise=="function"},yo=function(a){return Qu(a)?a.toPromise():Promise.resolve(a)},Gu=function(a){return a&&Promise.resolve(a)===a},ct=function(){return document.body.querySelector(".".concat(S.container))},wo=function(a){var c=ct();return c?c.querySelector(a):null},It=function(a){return wo(".".concat(a))},se=function(){return It(S.popup)},_o=function(){return It(S.icon)},dE=function(){return It(S["icon-content"])},xp=function(){return It(S.title)},Yu=function(){return It(S["html-container"])},bp=function(){return It(S.image)},Xu=function(){return It(S["progress-steps"])},ha=function(){return It(S["validation-message"])},Zt=function(){return wo(".".concat(S.actions," .").concat(S.confirm))},ri=function(){return wo(".".concat(S.actions," .").concat(S.cancel))},Tr=function(){return wo(".".concat(S.actions," .").concat(S.deny))},fE=function(){return It(S["input-label"])},ii=function(){return wo(".".concat(S.loader))},Eo=function(){return It(S.actions)},Dp=function(){return It(S.footer)},da=function(){return It(S["timer-progress-bar"])},Ju=function(){return It(S.close)},pE=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zu=function(){var a=se();if(!a)return[];var c=a.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),d=Array.from(c).sort(function(M,X){var J=parseInt(M.getAttribute("tabindex")||"0"),Ie=parseInt(X.getAttribute("tabindex")||"0");return J>Ie?1:J<Ie?-1:0}),v=a.querySelectorAll(pE),C=Array.from(v).filter(function(M){return M.getAttribute("tabindex")!=="-1"});return A(new Set(d.concat(C))).filter(function(M){return Ct(M)})},ec=function(){return _n(document.body,S.shown)&&!_n(document.body,S["toast-shown"])&&!_n(document.body,S["no-backdrop"])},fa=function(){var a=se();return a?_n(a,S.toast):!1},mE=function(){var a=se();return a?a.hasAttribute("data-loading"):!1},St=function(a,c){if(a.textContent="",c){var d=new DOMParser,v=d.parseFromString(c,"text/html"),C=v.querySelector("head");C&&Array.from(C.childNodes).forEach(function(X){a.appendChild(X)});var M=v.querySelector("body");M&&Array.from(M.childNodes).forEach(function(X){X instanceof HTMLVideoElement||X instanceof HTMLAudioElement?a.appendChild(X.cloneNode(!0)):a.appendChild(X)})}},_n=function(a,c){if(!c)return!1;for(var d=c.split(/\s+/),v=0;v<d.length;v++)if(!a.classList.contains(d[v]))return!1;return!0},gE=function(a,c){Array.from(a.classList).forEach(function(d){!Object.values(S).includes(d)&&!Object.values(wn).includes(d)&&!Object.values(c.showClass||{}).includes(d)&&a.classList.remove(d)})},Nt=function(a,c,d){if(gE(a,c),c.customClass&&c.customClass[d]){if(typeof c.customClass[d]!="string"&&!c.customClass[d].forEach){gt("Invalid type of customClass.".concat(d,'! Expected string or iterable object, got "').concat(u(c.customClass[d]),'"'));return}ne(a,c.customClass[d])}},pa=function(a,c){if(!c)return null;switch(c){case"select":case"textarea":case"file":return a.querySelector(".".concat(S.popup," > .").concat(S[c]));case"checkbox":return a.querySelector(".".concat(S.popup," > .").concat(S.checkbox," input"));case"radio":return a.querySelector(".".concat(S.popup," > .").concat(S.radio," input:checked"))||a.querySelector(".".concat(S.popup," > .").concat(S.radio," input:first-child"));case"range":return a.querySelector(".".concat(S.popup," > .").concat(S.range," input"));default:return a.querySelector(".".concat(S.popup," > .").concat(S.input))}},Vp=function(a){if(a.focus(),a.type!=="file"){var c=a.value;a.value="",a.value=c}},Np=function(a,c,d){!a||!c||(typeof c=="string"&&(c=c.split(/\s+/).filter(Boolean)),c.forEach(function(v){Array.isArray(a)?a.forEach(function(C){d?C.classList.add(v):C.classList.remove(v)}):d?a.classList.add(v):a.classList.remove(v)}))},ne=function(a,c){Np(a,c,!0)},en=function(a,c){Np(a,c,!1)},Mn=function(a,c){for(var d=Array.from(a.children),v=0;v<d.length;v++){var C=d[v];if(C instanceof HTMLElement&&_n(C,c))return C}},Ir=function(a,c,d){d==="".concat(parseInt(d))&&(d=parseInt(d)),d||parseInt(d)===0?a.style.setProperty(c,typeof d=="number"?"".concat(d,"px"):d):a.style.removeProperty(c)},Fe=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";a&&(a.style.display=c)},Ze=function(a){a&&(a.style.display="none")},tc=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";a&&new MutationObserver(function(){To(a,a.innerHTML,c)}).observe(a,{childList:!0,subtree:!0})},Op=function(a,c,d,v){var C=a.querySelector(c);C&&C.style.setProperty(d,v)},To=function(a,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";c?Fe(a,d):Ze(a)},Ct=function(a){return!!(a&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length))},vE=function(){return!Ct(Zt())&&!Ct(Tr())&&!Ct(ri())},Lp=function(a){return a.scrollHeight>a.clientHeight},Mp=function(a){var c=window.getComputedStyle(a),d=parseFloat(c.getPropertyValue("animation-duration")||"0"),v=parseFloat(c.getPropertyValue("transition-duration")||"0");return d>0||v>0},nc=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=da();d&&Ct(d)&&(c&&(d.style.transition="none",d.style.width="100%"),setTimeout(function(){d.style.transition="width ".concat(a/1e3,"s linear"),d.style.width="0%"},10))},yE=function(){var a=da();if(a){var c=parseInt(window.getComputedStyle(a).width);a.style.removeProperty("transition"),a.style.width="100%";var d=parseInt(window.getComputedStyle(a).width),v=c/d*100;a.style.width="".concat(v,"%")}},Fp=function(){return typeof window>"u"||typeof document>"u"},wE=`
 <div aria-labelledby="`.concat(S.title,'" aria-describedby="').concat(S["html-container"],'" class="').concat(S.popup,`" tabindex="-1">
   <button type="button" class="`).concat(S.close,`"></button>
   <ul class="`).concat(S["progress-steps"],`"></ul>
   <div class="`).concat(S.icon,`"></div>
   <img class="`).concat(S.image,`" />
   <h2 class="`).concat(S.title,'" id="').concat(S.title,`"></h2>
   <div class="`).concat(S["html-container"],'" id="').concat(S["html-container"],`"></div>
   <input class="`).concat(S.input,'" id="').concat(S.input,`" />
   <input type="file" class="`).concat(S.file,`" />
   <div class="`).concat(S.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(S.select,'" id="').concat(S.select,`"></select>
   <div class="`).concat(S.radio,`"></div>
   <label class="`).concat(S.checkbox,`">
     <input type="checkbox" id="`).concat(S.checkbox,`" />
     <span class="`).concat(S.label,`"></span>
   </label>
   <textarea class="`).concat(S.textarea,'" id="').concat(S.textarea,`"></textarea>
   <div class="`).concat(S["validation-message"],'" id="').concat(S["validation-message"],`"></div>
   <div class="`).concat(S.actions,`">
     <div class="`).concat(S.loader,`"></div>
     <button type="button" class="`).concat(S.confirm,`"></button>
     <button type="button" class="`).concat(S.deny,`"></button>
     <button type="button" class="`).concat(S.cancel,`"></button>
   </div>
   <div class="`).concat(S.footer,`"></div>
   <div class="`).concat(S["timer-progress-bar-container"],`">
     <div class="`).concat(S["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),_E=function(){var a=ct();return a?(a.remove(),en([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0):!1},Sr=function(){N.currentInstance.resetValidationMessage()},EE=function(){var a=se(),c=Mn(a,S.input),d=Mn(a,S.file),v=a.querySelector(".".concat(S.range," input")),C=a.querySelector(".".concat(S.range," output")),M=Mn(a,S.select),X=a.querySelector(".".concat(S.checkbox," input")),J=Mn(a,S.textarea);c.oninput=Sr,d.onchange=Sr,M.onchange=Sr,X.onchange=Sr,J.oninput=Sr,v.oninput=function(){Sr(),C.value=v.value},v.onchange=function(){Sr(),C.value=v.value}},TE=function(a){return typeof a=="string"?document.querySelector(a):a},IE=function(a){var c=se();c.setAttribute("role",a.toast?"alert":"dialog"),c.setAttribute("aria-live",a.toast?"polite":"assertive"),a.toast||c.setAttribute("aria-modal","true")},SE=function(a){window.getComputedStyle(a).direction==="rtl"&&ne(ct(),S.rtl)},CE=function(a){var c=_E();if(Fp()){Er("SweetAlert2 requires document to initialize");return}var d=document.createElement("div");d.className=S.container,c&&ne(d,S["no-transition"]),St(d,wE);var v=TE(a.target);v.appendChild(d),IE(a),SE(v),EE()},rc=function(a,c){a instanceof HTMLElement?c.appendChild(a):u(a)==="object"?AE(a,c):a&&St(c,a)},AE=function(a,c){a.jquery?PE(c,a):St(c,a.toString())},PE=function(a,c){if(a.textContent="",0 in c)for(var d=0;d in c;d++)a.appendChild(c[d].cloneNode(!0));else a.appendChild(c.cloneNode(!0))},Cr=function(){if(Fp())return!1;var f=document.createElement("div");return typeof f.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof f.style.animation<"u"?"animationend":!1}(),kE=function(a,c){var d=Eo(),v=ii();!d||!v||(!c.showConfirmButton&&!c.showDenyButton&&!c.showCancelButton?Ze(d):Fe(d),Nt(d,c,"actions"),RE(d,v,c),St(v,c.loaderHtml||""),Nt(v,c,"loader"))};function RE(f,a,c){var d=Zt(),v=Tr(),C=ri();!d||!v||!C||(ic(d,"confirm",c),ic(v,"deny",c),ic(C,"cancel",c),xE(d,v,C,c),c.reverseButtons&&(c.toast?(f.insertBefore(C,d),f.insertBefore(v,d)):(f.insertBefore(C,a),f.insertBefore(v,a),f.insertBefore(d,a))))}function xE(f,a,c,d){if(!d.buttonsStyling){en([f,a,c],S.styled);return}ne([f,a,c],S.styled),d.confirmButtonColor&&(f.style.backgroundColor=d.confirmButtonColor,ne(f,S["default-outline"])),d.denyButtonColor&&(a.style.backgroundColor=d.denyButtonColor,ne(a,S["default-outline"])),d.cancelButtonColor&&(c.style.backgroundColor=d.cancelButtonColor,ne(c,S["default-outline"]))}function ic(f,a,c){var d=Ku(a);To(f,c["show".concat(d,"Button")],"inline-block"),St(f,c["".concat(a,"ButtonText")]||""),f.setAttribute("aria-label",c["".concat(a,"ButtonAriaLabel")]||""),f.className=S[a],Nt(f,c,"".concat(a,"Button"))}var bE=function(a,c){var d=Ju();d&&(St(d,c.closeButtonHtml||""),Nt(d,c,"closeButton"),To(d,c.showCloseButton),d.setAttribute("aria-label",c.closeButtonAriaLabel||""))},DE=function(a,c){var d=ct();d&&(VE(d,c.backdrop),NE(d,c.position),OE(d,c.grow),Nt(d,c,"container"))};function VE(f,a){typeof a=="string"?f.style.background=a:a||ne([document.documentElement,document.body],S["no-backdrop"])}function NE(f,a){a&&(a in S?ne(f,S[a]):(gt('The "position" parameter is not valid, defaulting to "center"'),ne(f,S.center)))}function OE(f,a){a&&ne(f,S["grow-".concat(a)])}var ce={innerParams:new WeakMap,domCache:new WeakMap},LE=["input","file","range","select","radio","checkbox","textarea"],ME=function(a,c){var d=se();if(d){var v=ce.innerParams.get(a),C=!v||c.input!==v.input;LE.forEach(function(M){var X=Mn(d,S[M]);X&&(jE(M,c.inputAttributes),X.className=S[M],C&&Ze(X))}),c.input&&(C&&FE(c),BE(c))}},FE=function(a){if(a.input){if(!Ae[a.input]){Er("Unexpected type of input! Expected ".concat(Object.keys(Ae).join(" | "),', got "').concat(a.input,'"'));return}var c=$p(a.input),d=Ae[a.input](c,a);Fe(c),a.inputAutoFocus&&setTimeout(function(){Vp(d)})}},$E=function(a){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c].name;["id","type","value","style"].includes(d)||a.removeAttribute(d)}},jE=function(a,c){var d=pa(se(),a);if(d){$E(d);for(var v in c)d.setAttribute(v,c[v])}},BE=function(a){var c=$p(a.input);u(a.customClass)==="object"&&ne(c,a.customClass.input)},oc=function(a,c){(!a.placeholder||c.inputPlaceholder)&&(a.placeholder=c.inputPlaceholder)},Io=function(a,c,d){if(d.inputLabel){var v=document.createElement("label"),C=S["input-label"];v.setAttribute("for",a.id),v.className=C,u(d.customClass)==="object"&&ne(v,d.customClass.inputLabel),v.innerText=d.inputLabel,c.insertAdjacentElement("beforebegin",v)}},$p=function(a){return Mn(se(),S[a]||S.input)},ma=function(a,c){["string","number"].includes(u(c))?a.value="".concat(c):Gu(c)||gt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(u(c),'"'))},Ae={};Ae.text=Ae.email=Ae.password=Ae.number=Ae.tel=Ae.url=Ae.search=Ae.date=Ae["datetime-local"]=Ae.time=Ae.week=Ae.month=function(f,a){return ma(f,a.inputValue),Io(f,f,a),oc(f,a),f.type=a.input,f},Ae.file=function(f,a){return Io(f,f,a),oc(f,a),f},Ae.range=function(f,a){var c=f.querySelector("input"),d=f.querySelector("output");return ma(c,a.inputValue),c.type=a.input,ma(d,a.inputValue),Io(c,f,a),f},Ae.select=function(f,a){if(f.textContent="",a.inputPlaceholder){var c=document.createElement("option");St(c,a.inputPlaceholder),c.value="",c.disabled=!0,c.selected=!0,f.appendChild(c)}return Io(f,f,a),f},Ae.radio=function(f){return f.textContent="",f},Ae.checkbox=function(f,a){var c=pa(se(),"checkbox");c.value="1",c.checked=!!a.inputValue;var d=f.querySelector("span");return St(d,a.inputPlaceholder),c},Ae.textarea=function(f,a){ma(f,a.inputValue),oc(f,a),Io(f,f,a);var c=function(v){return parseInt(window.getComputedStyle(v).marginLeft)+parseInt(window.getComputedStyle(v).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var d=parseInt(window.getComputedStyle(se()).width),v=function(){if(document.body.contains(f)){var M=f.offsetWidth+c(f);M>d?se().style.width="".concat(M,"px"):Ir(se(),"width",a.width)}};new MutationObserver(v).observe(f,{attributes:!0,attributeFilter:["style"]})}}),f};var UE=function(a,c){var d=Yu();d&&(tc(d),Nt(d,c,"htmlContainer"),c.html?(rc(c.html,d),Fe(d,"block")):c.text?(d.textContent=c.text,Fe(d,"block")):Ze(d),ME(a,c))},zE=function(a,c){var d=Dp();d&&(tc(d),To(d,c.footer,"block"),c.footer&&rc(c.footer,d),Nt(d,c,"footer"))},HE=function(a,c){var d=ce.innerParams.get(a),v=_o();if(v){if(d&&c.icon===d.icon){Bp(v,c),jp(v,c);return}if(!c.icon&&!c.iconHtml){Ze(v);return}if(c.icon&&Object.keys(wn).indexOf(c.icon)===-1){Er('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(c.icon,'"')),Ze(v);return}Fe(v),Bp(v,c),jp(v,c),ne(v,c.showClass&&c.showClass.icon)}},jp=function(a,c){for(var d=0,v=Object.entries(wn);d<v.length;d++){var C=_(v[d],2),M=C[0],X=C[1];c.icon!==M&&en(a,X)}ne(a,c.icon&&wn[c.icon]),QE(a,c),qE(),Nt(a,c,"icon")},qE=function(){var a=se();if(a)for(var c=window.getComputedStyle(a).getPropertyValue("background-color"),d=a.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),v=0;v<d.length;v++)d[v].style.backgroundColor=c},WE=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,KE=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Bp=function(a,c){if(!(!c.icon&&!c.iconHtml)){var d=a.innerHTML,v="";if(c.iconHtml)v=Up(c.iconHtml);else if(c.icon==="success")v=WE,d=d.replace(/ style=".*?"/g,"");else if(c.icon==="error")v=KE;else if(c.icon){var C={question:"?",warning:"!",info:"i"};v=Up(C[c.icon])}d.trim()!==v.trim()&&St(a,v)}},QE=function(a,c){if(c.iconColor){a.style.color=c.iconColor,a.style.borderColor=c.iconColor;for(var d=0,v=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];d<v.length;d++){var C=v[d];Op(a,C,"background-color",c.iconColor)}Op(a,".swal2-success-ring","border-color",c.iconColor)}},Up=function(a){return'<div class="'.concat(S["icon-content"],'">').concat(a,"</div>")},GE=function(a,c){var d=bp();if(d){if(!c.imageUrl){Ze(d);return}Fe(d,""),d.setAttribute("src",c.imageUrl),d.setAttribute("alt",c.imageAlt||""),Ir(d,"width",c.imageWidth),Ir(d,"height",c.imageHeight),d.className=S.image,Nt(d,c,"image")}},YE=function(a,c){var d=ct(),v=se();if(!(!d||!v)){if(c.toast){Ir(d,"width",c.width),v.style.width="100%";var C=ii();C&&v.insertBefore(C,_o())}else Ir(v,"width",c.width);Ir(v,"padding",c.padding),c.color&&(v.style.color=c.color),c.background&&(v.style.background=c.background),Ze(ha()),XE(v,c)}},XE=function(a,c){var d=c.showClass||{};a.className="".concat(S.popup," ").concat(Ct(a)?d.popup:""),c.toast?(ne([document.documentElement,document.body],S["toast-shown"]),ne(a,S.toast)):ne(a,S.modal),Nt(a,c,"popup"),typeof c.customClass=="string"&&ne(a,c.customClass),c.icon&&ne(a,S["icon-".concat(c.icon)])},JE=function(a,c){var d=Xu();if(d){var v=c.progressSteps,C=c.currentProgressStep;if(!v||v.length===0||C===void 0){Ze(d);return}Fe(d),d.textContent="",C>=v.length&&gt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),v.forEach(function(M,X){var J=ZE(M);if(d.appendChild(J),X===C&&ne(J,S["active-progress-step"]),X!==v.length-1){var Ie=e2(c);d.appendChild(Ie)}})}},ZE=function(a){var c=document.createElement("li");return ne(c,S["progress-step"]),St(c,a),c},e2=function(a){var c=document.createElement("li");return ne(c,S["progress-step-line"]),a.progressStepsDistance&&Ir(c,"width",a.progressStepsDistance),c},t2=function(a,c){var d=xp();d&&(tc(d),To(d,c.title||c.titleText,"block"),c.title&&rc(c.title,d),c.titleText&&(d.innerText=c.titleText),Nt(d,c,"title"))},zp=function(a,c){YE(a,c),DE(a,c),JE(a,c),HE(a,c),GE(a,c),t2(a,c),bE(a,c),UE(a,c),kE(a,c),zE(a,c);var d=se();typeof c.didRender=="function"&&d&&c.didRender(d)},n2=function(){return Ct(se())},Hp=function(){var a;return(a=Zt())===null||a===void 0?void 0:a.click()},r2=function(){var a;return(a=Tr())===null||a===void 0?void 0:a.click()},i2=function(){var a;return(a=ri())===null||a===void 0?void 0:a.click()},oi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qp=function(a){a.keydownTarget&&a.keydownHandlerAdded&&(a.keydownTarget.removeEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!1)},o2=function(a,c,d){qp(a),c.toast||(a.keydownHandler=function(v){return a2(c,v,d)},a.keydownTarget=c.keydownListenerCapture?window:se(),a.keydownListenerCapture=c.keydownListenerCapture,a.keydownTarget.addEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!0)},sc=function(a,c){var d,v=Zu();if(v.length){a=a+c,a===v.length?a=0:a===-1&&(a=v.length-1),v[a].focus();return}(d=se())===null||d===void 0||d.focus()},Wp=["ArrowRight","ArrowDown"],s2=["ArrowLeft","ArrowUp"],a2=function(a,c,d){a&&(c.isComposing||c.keyCode===229||(a.stopKeydownPropagation&&c.stopPropagation(),c.key==="Enter"?l2(c,a):c.key==="Tab"?u2(c):[].concat(Wp,s2).includes(c.key)?c2(c.key):c.key==="Escape"&&h2(c,a,d)))},l2=function(a,c){if(ca(c.allowEnterKey)){var d=pa(se(),c.input);if(a.target&&d&&a.target instanceof HTMLElement&&a.target.outerHTML===d.outerHTML){if(["textarea","file"].includes(c.input))return;Hp(),a.preventDefault()}}},u2=function(a){for(var c=a.target,d=Zu(),v=-1,C=0;C<d.length;C++)if(c===d[C]){v=C;break}a.shiftKey?sc(v,-1):sc(v,1),a.stopPropagation(),a.preventDefault()},c2=function(a){var c=Eo(),d=Zt(),v=Tr(),C=ri();if(!(!c||!d||!v||!C)){var M=[d,v,C];if(!(document.activeElement instanceof HTMLElement&&!M.includes(document.activeElement))){var X=Wp.includes(a)?"nextElementSibling":"previousElementSibling",J=document.activeElement;if(J){for(var Ie=0;Ie<c.children.length;Ie++){if(J=J[X],!J)return;if(J instanceof HTMLButtonElement&&Ct(J))break}J instanceof HTMLButtonElement&&J.focus()}}}},h2=function(a,c,d){ca(c.allowEscapeKey)&&(a.preventDefault(),d(oi.esc))},si={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},d2=function(){var a=Array.from(document.body.children);a.forEach(function(c){c===ct()||c.contains(ct())||(c.hasAttribute("aria-hidden")&&c.setAttribute("data-previous-aria-hidden",c.getAttribute("aria-hidden")||""),c.setAttribute("aria-hidden","true"))})},Kp=function(){var a=Array.from(document.body.children);a.forEach(function(c){c.hasAttribute("data-previous-aria-hidden")?(c.setAttribute("aria-hidden",c.getAttribute("data-previous-aria-hidden")||""),c.removeAttribute("data-previous-aria-hidden")):c.removeAttribute("aria-hidden")})},Qp=typeof window<"u"&&!!window.GestureEvent,f2=function(){if(Qp&&!_n(document.body,S.iosfix)){var a=document.body.scrollTop;document.body.style.top="".concat(a*-1,"px"),ne(document.body,S.iosfix),p2()}},p2=function(){var a=ct();if(a){var c;a.ontouchstart=function(d){c=m2(d)},a.ontouchmove=function(d){c&&(d.preventDefault(),d.stopPropagation())}}},m2=function(a){var c=a.target,d=ct(),v=Yu();return!d||!v||g2(a)||v2(a)?!1:c===d||!Lp(d)&&c instanceof HTMLElement&&c.tagName!=="INPUT"&&c.tagName!=="TEXTAREA"&&!(Lp(v)&&v.contains(c))},g2=function(a){return a.touches&&a.touches.length&&a.touches[0].touchType==="stylus"},v2=function(a){return a.touches&&a.touches.length>1},y2=function(){if(_n(document.body,S.iosfix)){var a=parseInt(document.body.style.top,10);en(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=a*-1}},w2=function(){var a=document.createElement("div");a.className=S["scrollbar-measure"],document.body.appendChild(a);var c=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),c},ai=null,_2=function(a){ai===null&&(document.body.scrollHeight>window.innerHeight||a==="scroll")&&(ai=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ai+w2(),"px"))},E2=function(){ai!==null&&(document.body.style.paddingRight="".concat(ai,"px"),ai=null)};function Gp(f,a,c,d){fa()?Xp(f,d):(Re(c).then(function(){return Xp(f,d)}),qp(N)),Qp?(a.setAttribute("style","display:none !important"),a.removeAttribute("class"),a.innerHTML=""):a.remove(),ec()&&(E2(),y2(),Kp()),T2()}function T2(){en([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"]])}function Fn(f){f=S2(f);var a=si.swalPromiseResolve.get(this),c=I2(this);this.isAwaitingPromise?f.isDismissed||(So(this),a(f)):c&&a(f)}var I2=function(a){var c=se();if(!c)return!1;var d=ce.innerParams.get(a);if(!d||_n(c,d.hideClass.popup))return!1;en(c,d.showClass.popup),ne(c,d.hideClass.popup);var v=ct();return en(v,d.showClass.backdrop),ne(v,d.hideClass.backdrop),C2(a,c,d),!0};function Yp(f){var a=si.swalPromiseReject.get(this);So(this),a&&a(f)}var So=function(a){a.isAwaitingPromise&&(delete a.isAwaitingPromise,ce.innerParams.get(a)||a._destroy())},S2=function(a){return typeof a>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},a)},C2=function(a,c,d){var v=ct(),C=Cr&&Mp(c);typeof d.willClose=="function"&&d.willClose(c),C?A2(a,c,v,d.returnFocus,d.didClose):Gp(a,v,d.returnFocus,d.didClose)},A2=function(a,c,d,v,C){Cr&&(N.swalCloseEventFinishedCallback=Gp.bind(null,a,d,v,C),c.addEventListener(Cr,function(M){M.target===c&&(N.swalCloseEventFinishedCallback(),delete N.swalCloseEventFinishedCallback)}))},Xp=function(a,c){setTimeout(function(){typeof c=="function"&&c.bind(a.params)(),a._destroy&&a._destroy()})},li=function(a){var c=se();if(c||new _a,c=se(),!!c){var d=ii();fa()?Ze(_o()):P2(c,a),Fe(d),c.setAttribute("data-loading","true"),c.setAttribute("aria-busy","true"),c.focus()}},P2=function(a,c){var d=Eo(),v=ii();!d||!v||(!c&&Ct(Zt())&&(c=Zt()),Fe(d),c&&(Ze(c),v.setAttribute("data-button-to-replace",c.className),d.insertBefore(v,c)),ne([a,d],S.loading))},k2=function(a,c){c.input==="select"||c.input==="radio"?V2(a,c):["text","email","number","tel","textarea"].some(function(d){return d===c.input})&&(Qu(c.inputValue)||Gu(c.inputValue))&&(li(Zt()),N2(a,c))},R2=function(a,c){var d=a.getInput();if(!d)return null;switch(c.input){case"checkbox":return x2(d);case"radio":return b2(d);case"file":return D2(d);default:return c.inputAutoTrim?d.value.trim():d.value}},x2=function(a){return a.checked?1:0},b2=function(a){return a.checked?a.value:null},D2=function(a){return a.files&&a.files.length?a.getAttribute("multiple")!==null?a.files:a.files[0]:null},V2=function(a,c){var d=se();if(d){var v=function(M){c.input==="select"?O2(d,Jp(M),c):c.input==="radio"&&L2(d,Jp(M),c)};Qu(c.inputOptions)||Gu(c.inputOptions)?(li(Zt()),yo(c.inputOptions).then(function(C){a.hideLoading(),v(C)})):u(c.inputOptions)==="object"?v(c.inputOptions):Er("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(u(c.inputOptions)))}},N2=function(a,c){var d=a.getInput();d&&(Ze(d),yo(c.inputValue).then(function(v){d.value=c.input==="number"?"".concat(parseFloat(v)||0):"".concat(v),Fe(d),d.focus(),a.hideLoading()}).catch(function(v){Er("Error in inputValue promise: ".concat(v)),d.value="",Fe(d),d.focus(),a.hideLoading()}))};function O2(f,a,c){var d=Mn(f,S.select);if(d){var v=function(M,X,J){var Ie=document.createElement("option");Ie.value=J,St(Ie,X),Ie.selected=Zp(J,c.inputValue),M.appendChild(Ie)};a.forEach(function(C){var M=C[0],X=C[1];if(Array.isArray(X)){var J=document.createElement("optgroup");J.label=M,J.disabled=!1,d.appendChild(J),X.forEach(function(Ie){return v(J,Ie[1],Ie[0])})}else v(d,X,M)}),d.focus()}}function L2(f,a,c){var d=Mn(f,S.radio);if(d){a.forEach(function(C){var M=C[0],X=C[1],J=document.createElement("input"),Ie=document.createElement("label");J.type="radio",J.name=S.radio,J.value=M,Zp(M,c.inputValue)&&(J.checked=!0);var Co=document.createElement("span");St(Co,X),Co.className=S.label,Ie.appendChild(J),Ie.appendChild(Co),d.appendChild(Ie)});var v=d.querySelectorAll("input");v.length&&v[0].focus()}}var Jp=function f(a){var c=[];return a instanceof Map?a.forEach(function(d,v){var C=d;u(C)==="object"&&(C=f(C)),c.push([v,C])}):Object.keys(a).forEach(function(d){var v=a[d];u(v)==="object"&&(v=f(v)),c.push([d,v])}),c},Zp=function(a,c){return!!c&&c.toString()===a.toString()},ga=void 0,M2=function(a){var c=ce.innerParams.get(a);a.disableButtons(),c.input?em(a,"confirm"):lc(a,!0)},F2=function(a){var c=ce.innerParams.get(a);a.disableButtons(),c.returnInputValueOnDeny?em(a,"deny"):ac(a,!1)},$2=function(a,c){a.disableButtons(),c(oi.cancel)},em=function(a,c){var d=ce.innerParams.get(a);if(!d.input){Er('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Ku(c)));return}var v=a.getInput(),C=R2(a,d);d.inputValidator?j2(a,C,c):v&&!v.checkValidity()?(a.enableButtons(),a.showValidationMessage(d.validationMessage)):c==="deny"?ac(a,C):lc(a,C)},j2=function(a,c,d){var v=ce.innerParams.get(a);a.disableInput();var C=Promise.resolve().then(function(){return yo(v.inputValidator(c,v.validationMessage))});C.then(function(M){a.enableButtons(),a.enableInput(),M?a.showValidationMessage(M):d==="deny"?ac(a,c):lc(a,c)})},ac=function(a,c){var d=ce.innerParams.get(a||ga);if(d.showLoaderOnDeny&&li(Tr()),d.preDeny){a.isAwaitingPromise=!0;var v=Promise.resolve().then(function(){return yo(d.preDeny(c,d.validationMessage))});v.then(function(C){C===!1?(a.hideLoading(),So(a)):a.close({isDenied:!0,value:typeof C>"u"?c:C})}).catch(function(C){return nm(a||ga,C)})}else a.close({isDenied:!0,value:c})},tm=function(a,c){a.close({isConfirmed:!0,value:c})},nm=function(a,c){a.rejectPromise(c)},lc=function(a,c){var d=ce.innerParams.get(a||ga);if(d.showLoaderOnConfirm&&li(),d.preConfirm){a.resetValidationMessage(),a.isAwaitingPromise=!0;var v=Promise.resolve().then(function(){return yo(d.preConfirm(c,d.validationMessage))});v.then(function(C){Ct(ha())||C===!1?(a.hideLoading(),So(a)):tm(a,typeof C>"u"?c:C)}).catch(function(C){return nm(a||ga,C)})}else tm(a,c)};function va(){var f=ce.innerParams.get(this);if(f){var a=ce.domCache.get(this);Ze(a.loader),fa()?f.icon&&Fe(_o()):B2(a),en([a.popup,a.actions],S.loading),a.popup.removeAttribute("aria-busy"),a.popup.removeAttribute("data-loading"),a.confirmButton.disabled=!1,a.denyButton.disabled=!1,a.cancelButton.disabled=!1}}var B2=function(a){var c=a.popup.getElementsByClassName(a.loader.getAttribute("data-button-to-replace"));c.length?Fe(c[0],"inline-block"):vE()&&Ze(a.actions)};function rm(){var f=ce.innerParams.get(this),a=ce.domCache.get(this);return a?pa(a.popup,f.input):null}function im(f,a,c){var d=ce.domCache.get(f);a.forEach(function(v){d[v].disabled=c})}function om(f,a){var c=se();if(!(!c||!f))if(f.type==="radio")for(var d=c.querySelectorAll('[name="'.concat(S.radio,'"]')),v=0;v<d.length;v++)d[v].disabled=a;else f.disabled=a}function sm(){im(this,["confirmButton","denyButton","cancelButton"],!1)}function am(){im(this,["confirmButton","denyButton","cancelButton"],!0)}function lm(){om(this.getInput(),!1)}function um(){om(this.getInput(),!0)}function cm(f){var a=ce.domCache.get(this),c=ce.innerParams.get(this);St(a.validationMessage,f),a.validationMessage.className=S["validation-message"],c.customClass&&c.customClass.validationMessage&&ne(a.validationMessage,c.customClass.validationMessage),Fe(a.validationMessage);var d=this.getInput();d&&(d.setAttribute("aria-invalid","true"),d.setAttribute("aria-describedby",S["validation-message"]),Vp(d),ne(d,S.inputerror))}function hm(){var f=ce.domCache.get(this);f.validationMessage&&Ze(f.validationMessage);var a=this.getInput();a&&(a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),en(a,S.inputerror))}var ui={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},U2=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],z2={},H2=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],dm=function(a){return Object.prototype.hasOwnProperty.call(ui,a)},fm=function(a){return U2.indexOf(a)!==-1},pm=function(a){return z2[a]},q2=function(a){dm(a)||gt('Unknown parameter "'.concat(a,'"'))},W2=function(a){H2.includes(a)&&gt('The parameter "'.concat(a,'" is incompatible with toasts'))},K2=function(a){var c=pm(a);c&&hE(a,c)},Q2=function(a){a.backdrop===!1&&a.allowOutsideClick&&gt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var c in a)q2(c),a.toast&&W2(c),K2(c)};function mm(f){var a=se(),c=ce.innerParams.get(this);if(!a||_n(a,c.hideClass.popup)){gt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var d=G2(f),v=Object.assign({},c,d);zp(this,v),ce.innerParams.set(this,v),Object.defineProperties(this,{params:{value:Object.assign({},this.params,f),writable:!1,enumerable:!0}})}var G2=function(a){var c={};return Object.keys(a).forEach(function(d){fm(d)?c[d]=a[d]:gt("Invalid parameter to update: ".concat(d))}),c};function gm(){var f=ce.domCache.get(this),a=ce.innerParams.get(this);if(!a){vm(this);return}f.popup&&N.swalCloseEventFinishedCallback&&(N.swalCloseEventFinishedCallback(),delete N.swalCloseEventFinishedCallback),typeof a.didDestroy=="function"&&a.didDestroy(),Y2(this)}var Y2=function(a){vm(a),delete a.params,delete N.keydownHandler,delete N.keydownTarget,delete N.currentInstance},vm=function(a){a.isAwaitingPromise?(uc(ce,a),a.isAwaitingPromise=!0):(uc(si,a),uc(ce,a),delete a.isAwaitingPromise,delete a.disableButtons,delete a.enableButtons,delete a.getInput,delete a.disableInput,delete a.enableInput,delete a.hideLoading,delete a.disableLoading,delete a.showValidationMessage,delete a.resetValidationMessage,delete a.close,delete a.closePopup,delete a.closeModal,delete a.closeToast,delete a.rejectPromise,delete a.update,delete a._destroy)},uc=function(a,c){for(var d in a)a[d].delete(c)},X2=Object.freeze({__proto__:null,_destroy:gm,close:Fn,closeModal:Fn,closePopup:Fn,closeToast:Fn,disableButtons:am,disableInput:um,disableLoading:va,enableButtons:sm,enableInput:lm,getInput:rm,handleAwaitingPromise:So,hideLoading:va,rejectPromise:Yp,resetValidationMessage:hm,showValidationMessage:cm,update:mm}),J2=function(a,c,d){a.toast?Z2(a,c,d):(tT(c),nT(c),rT(a,c,d))},Z2=function(a,c,d){c.popup.onclick=function(){a&&(eT(a)||a.timer||a.input)||d(oi.close)}},eT=function(a){return!!(a.showConfirmButton||a.showDenyButton||a.showCancelButton||a.showCloseButton)},ya=!1,tT=function(a){a.popup.onmousedown=function(){a.container.onmouseup=function(c){a.container.onmouseup=function(){},c.target===a.container&&(ya=!0)}}},nT=function(a){a.container.onmousedown=function(){a.popup.onmouseup=function(c){a.popup.onmouseup=function(){},(c.target===a.popup||c.target instanceof HTMLElement&&a.popup.contains(c.target))&&(ya=!0)}}},rT=function(a,c,d){c.container.onclick=function(v){if(ya){ya=!1;return}v.target===c.container&&ca(a.allowOutsideClick)&&d(oi.backdrop)}},iT=function(a){return u(a)==="object"&&a.jquery},ym=function(a){return a instanceof Element||iT(a)},oT=function(a){var c={};return u(a[0])==="object"&&!ym(a[0])?Object.assign(c,a[0]):["title","html","icon"].forEach(function(d,v){var C=a[v];typeof C=="string"||ym(C)?c[d]=C:C!==void 0&&Er("Unexpected type of ".concat(d,'! Expected "string" or "Element", got ').concat(u(C)))}),c};function sT(){for(var f=this,a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return r(f,c)}function aT(f){var a=function(c){g(d,c);function d(){return h(this,d),n(this,d,arguments)}return m(d,[{key:"_main",value:function(C,M){return y(E(d.prototype),"_main",this).call(this,C,Object.assign({},f,M))}}]),d}(this);return a}var lT=function(){return N.timeout&&N.timeout.getTimerLeft()},wm=function(){if(N.timeout)return yE(),N.timeout.stop()},_m=function(){if(N.timeout){var a=N.timeout.start();return nc(a),a}},uT=function(){var a=N.timeout;return a&&(a.running?wm():_m())},cT=function(a){if(N.timeout){var c=N.timeout.increase(a);return nc(c,!0),c}},hT=function(){return!!(N.timeout&&N.timeout.isRunning())},Em=!1,cc={};function dT(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";cc[f]=this,Em||(document.body.addEventListener("click",fT),Em=!0)}var fT=function(a){for(var c=a.target;c&&c!==document;c=c.parentNode)for(var d in cc){var v=c.getAttribute(d);if(v){cc[d].fire({template:v});return}}},pT=Object.freeze({__proto__:null,argsToParams:oT,bindClickHandler:dT,clickCancel:i2,clickConfirm:Hp,clickDeny:r2,enableLoading:li,fire:sT,getActions:Eo,getCancelButton:ri,getCloseButton:Ju,getConfirmButton:Zt,getContainer:ct,getDenyButton:Tr,getFocusableElements:Zu,getFooter:Dp,getHtmlContainer:Yu,getIcon:_o,getIconContent:dE,getImage:bp,getInputLabel:fE,getLoader:ii,getPopup:se,getProgressSteps:Xu,getTimerLeft:lT,getTimerProgressBar:da,getTitle:xp,getValidationMessage:ha,increaseTimer:cT,isDeprecatedParameter:pm,isLoading:mE,isTimerRunning:hT,isUpdatableParameter:fm,isValidParameter:dm,isVisible:n2,mixin:aT,resumeTimer:_m,showLoading:li,stopTimer:wm,toggleTimer:uT}),mT=function(){function f(a,c){h(this,f),this.callback=a,this.remaining=c,this.running=!1,this.start()}return m(f,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(c){var d=this.running;return d&&this.stop(),this.remaining+=c,d&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),f}(),Tm=["swal-title","swal-html","swal-footer"],gT=function(a){var c=typeof a.template=="string"?document.querySelector(a.template):a.template;if(!c)return{};var d=c.content;ST(d);var v=Object.assign(vT(d),yT(d),wT(d),_T(d),ET(d),TT(d),IT(d,Tm));return v},vT=function(a){var c={},d=Array.from(a.querySelectorAll("swal-param"));return d.forEach(function(v){Ar(v,["name","value"]);var C=v.getAttribute("name"),M=v.getAttribute("value");typeof ui[C]=="boolean"?c[C]=M!=="false":u(ui[C])==="object"?c[C]=JSON.parse(M):c[C]=M}),c},yT=function(a){var c={},d=Array.from(a.querySelectorAll("swal-function-param"));return d.forEach(function(v){var C=v.getAttribute("name"),M=v.getAttribute("value");c[C]=new Function("return ".concat(M))()}),c},wT=function(a){var c={},d=Array.from(a.querySelectorAll("swal-button"));return d.forEach(function(v){Ar(v,["type","color","aria-label"]);var C=v.getAttribute("type");c["".concat(C,"ButtonText")]=v.innerHTML,c["show".concat(Ku(C),"Button")]=!0,v.hasAttribute("color")&&(c["".concat(C,"ButtonColor")]=v.getAttribute("color")),v.hasAttribute("aria-label")&&(c["".concat(C,"ButtonAriaLabel")]=v.getAttribute("aria-label"))}),c},_T=function(a){var c={},d=a.querySelector("swal-image");return d&&(Ar(d,["src","width","height","alt"]),d.hasAttribute("src")&&(c.imageUrl=d.getAttribute("src")),d.hasAttribute("width")&&(c.imageWidth=d.getAttribute("width")),d.hasAttribute("height")&&(c.imageHeight=d.getAttribute("height")),d.hasAttribute("alt")&&(c.imageAlt=d.getAttribute("alt"))),c},ET=function(a){var c={},d=a.querySelector("swal-icon");return d&&(Ar(d,["type","color"]),d.hasAttribute("type")&&(c.icon=d.getAttribute("type")),d.hasAttribute("color")&&(c.iconColor=d.getAttribute("color")),c.iconHtml=d.innerHTML),c},TT=function(a){var c={},d=a.querySelector("swal-input");d&&(Ar(d,["type","label","placeholder","value"]),c.input=d.getAttribute("type")||"text",d.hasAttribute("label")&&(c.inputLabel=d.getAttribute("label")),d.hasAttribute("placeholder")&&(c.inputPlaceholder=d.getAttribute("placeholder")),d.hasAttribute("value")&&(c.inputValue=d.getAttribute("value")));var v=Array.from(a.querySelectorAll("swal-input-option"));return v.length&&(c.inputOptions={},v.forEach(function(C){Ar(C,["value"]);var M=C.getAttribute("value"),X=C.innerHTML;c.inputOptions[M]=X})),c},IT=function(a,c){var d={};for(var v in c){var C=c[v],M=a.querySelector(C);M&&(Ar(M,[]),d[C.replace(/^swal-/,"")]=M.innerHTML.trim())}return d},ST=function(a){var c=Tm.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(a.children).forEach(function(d){var v=d.tagName.toLowerCase();c.includes(v)||gt("Unrecognized element <".concat(v,">"))})},Ar=function(a,c){Array.from(a.attributes).forEach(function(d){c.indexOf(d.name)===-1&&gt(['Unrecognized attribute "'.concat(d.name,'" on <').concat(a.tagName.toLowerCase(),">."),"".concat(c.length?"Allowed attributes are: ".concat(c.join(", ")):"To set the value, use HTML within the element.")])})},Im=10,CT=function(a){var c=ct(),d=se();typeof a.willOpen=="function"&&a.willOpen(d);var v=window.getComputedStyle(document.body),C=v.overflowY;RT(c,d,a),setTimeout(function(){PT(c,d)},Im),ec()&&(kT(c,a.scrollbarPadding,C),d2()),!fa()&&!N.previousActiveElement&&(N.previousActiveElement=document.activeElement),typeof a.didOpen=="function"&&setTimeout(function(){return a.didOpen(d)}),en(c,S["no-transition"])},AT=function f(a){var c=se();if(!(a.target!==c||!Cr)){var d=ct();c.removeEventListener(Cr,f),d.style.overflowY="auto"}},PT=function(a,c){Cr&&Mp(c)?(a.style.overflowY="hidden",c.addEventListener(Cr,AT)):a.style.overflowY="auto"},kT=function(a,c,d){f2(),c&&d!=="hidden"&&_2(d),setTimeout(function(){a.scrollTop=0})},RT=function(a,c,d){ne(a,d.showClass.backdrop),d.animation?(c.style.setProperty("opacity","0","important"),Fe(c,"grid"),setTimeout(function(){ne(c,d.showClass.popup),c.style.removeProperty("opacity")},Im)):Fe(c,"grid"),ne([document.documentElement,document.body],S.shown),d.heightAuto&&d.backdrop&&!d.toast&&ne([document.documentElement,document.body],S["height-auto"])},Sm={email:function(a,c){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(a)?Promise.resolve():Promise.resolve(c||"Invalid email address")},url:function(a,c){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(a)?Promise.resolve():Promise.resolve(c||"Invalid URL")}};function xT(f){f.inputValidator||(f.input==="email"&&(f.inputValidator=Sm.email),f.input==="url"&&(f.inputValidator=Sm.url))}function bT(f){(!f.target||typeof f.target=="string"&&!document.querySelector(f.target)||typeof f.target!="string"&&!f.target.appendChild)&&(gt('Target parameter is not valid, defaulting to "body"'),f.target="body")}function DT(f){xT(f),f.showLoaderOnConfirm&&!f.preConfirm&&gt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bT(f),typeof f.title=="string"&&(f.title=f.title.split(`
`).join("<br />")),CE(f)}var tn,wa=new WeakMap,Pe=function(){function f(){if(h(this,f),j(this,wa,{writable:!0,value:void 0}),!(typeof window>"u")){tn=this;for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];var v=Object.freeze(this.constructor.argsToParams(c));this.params=v,this.isAwaitingPromise=!1,wr(this,wa,this._main(tn.params))}}return m(f,[{key:"_main",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Q2(Object.assign({},d,c)),N.currentInstance){var v=si.swalPromiseResolve.get(N.currentInstance),C=N.currentInstance.isAwaitingPromise;N.currentInstance._destroy(),C||v({isDismissed:!0}),ec()&&Kp()}N.currentInstance=tn;var M=NT(c,d);DT(M),Object.freeze(M),N.timeout&&(N.timeout.stop(),delete N.timeout),clearTimeout(N.restoreFocusTimeout);var X=OT(tn);return zp(tn,M),ce.innerParams.set(tn,M),VT(tn,X,M)}},{key:"then",value:function(c){return Ln(this,wa).then(c)}},{key:"finally",value:function(c){return Ln(this,wa).finally(c)}}]),f}(),VT=function(a,c,d){return new Promise(function(v,C){var M=function(J){a.close({isDismissed:!0,dismiss:J})};si.swalPromiseResolve.set(a,v),si.swalPromiseReject.set(a,C),c.confirmButton.onclick=function(){M2(a)},c.denyButton.onclick=function(){F2(a)},c.cancelButton.onclick=function(){$2(a,M)},c.closeButton.onclick=function(){M(oi.close)},J2(d,c,M),o2(N,d,M),k2(a,d),CT(d),LT(N,d,M),MT(c,d),setTimeout(function(){c.container.scrollTop=0})})},NT=function(a,c){var d=gT(a),v=Object.assign({},ui,c,d,a);return v.showClass=Object.assign({},ui.showClass,v.showClass),v.hideClass=Object.assign({},ui.hideClass,v.hideClass),v.animation===!1&&(v.showClass={backdrop:"swal2-noanimation"},v.hideClass={}),v},OT=function(a){var c={popup:se(),container:ct(),actions:Eo(),confirmButton:Zt(),denyButton:Tr(),cancelButton:ri(),loader:ii(),closeButton:Ju(),validationMessage:ha(),progressSteps:Xu()};return ce.domCache.set(a,c),c},LT=function(a,c,d){var v=da();Ze(v),c.timer&&(a.timeout=new mT(function(){d("timer"),delete a.timeout},c.timer),c.timerProgressBar&&(Fe(v),Nt(v,c,"timerProgressBar"),setTimeout(function(){a.timeout&&a.timeout.running&&nc(c.timer)})))},MT=function(a,c){if(!c.toast){if(!ca(c.allowEnterKey)){$T();return}FT(a,c)||sc(-1,1)}},FT=function(a,c){return c.focusDeny&&Ct(a.denyButton)?(a.denyButton.focus(),!0):c.focusCancel&&Ct(a.cancelButton)?(a.cancelButton.focus(),!0):c.focusConfirm&&Ct(a.confirmButton)?(a.confirmButton.focus(),!0):!1},$T=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Cm=new Date,Am=localStorage.getItem("swal-initiation");Am?(Cm.getTime()-Date.parse(Am))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var f=document.createElement("audio");f.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",f.loop=!0,document.body.appendChild(f),setTimeout(function(){f.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Cm))}Pe.prototype.disableButtons=am,Pe.prototype.enableButtons=sm,Pe.prototype.getInput=rm,Pe.prototype.disableInput=um,Pe.prototype.enableInput=lm,Pe.prototype.hideLoading=va,Pe.prototype.disableLoading=va,Pe.prototype.showValidationMessage=cm,Pe.prototype.resetValidationMessage=hm,Pe.prototype.close=Fn,Pe.prototype.closePopup=Fn,Pe.prototype.closeModal=Fn,Pe.prototype.closeToast=Fn,Pe.prototype.rejectPromise=Yp,Pe.prototype.update=mm,Pe.prototype._destroy=gm,Object.assign(Pe,pT),Object.keys(X2).forEach(function(f){Pe[f]=function(){if(tn&&tn[f]){var a;return(a=tn)[f].apply(a,arguments)}return null}}),Pe.DismissReason=oi,Pe.version="11.10.4";var _a=Pe;return _a.default=_a,_a}),typeof je<"u"&&je.Sweetalert2&&(je.swal=je.sweetAlert=je.Swal=je.SweetAlert=je.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(uE);var AD=uE.exports;const PD=Zv(AD),kD=()=>{const[t,e]=D.useState({nombre:"",telefono:"",email:"",emailRepetido:""}),[n,r]=D.useState(null),{carrito:i,totalPrecio:o,borrarCarrito:s}=D.useContext(Qs),l=()=>{PD.fire({title:"Los emails no coinciden",text:"compruebelo nuevamente",icon:"error",confirmButtonText:"Continuar"})},u=m=>{e({...t,[m.target.name]:m.target.value})},h=m=>{if(m.preventDefault(),t.email===t.emailRepetido){const g={comprador:{...t},productos:[...i],fecha:new Date,total:o()};p(g)}else l()},p=m=>{const g=K1(Pp,"ordenes");iD(g,m).then(E=>{r(E.id),s()})};return R.jsx("div",{children:n?R.jsxs("div",{className:"aviso-orden",children:[R.jsx("h2",{children:"Orden Generada correctamente:"}),R.jsxs("p",{children:["Nro de orden ",n]})]}):R.jsx(CD,{datosForm:t,guardarDatosImput:u,enviarOrden:h})})};function RD(){return R.jsx(uA,{children:R.jsxs(vA,{children:[R.jsx(wA,{}),R.jsxs(rA,{children:[R.jsx(Rr,{path:"/",element:R.jsx(Jv,{})}),R.jsx(Rr,{path:"/categoria/:categoria",element:R.jsx(Jv,{})}),R.jsx(Rr,{path:"/detalle/:id",element:R.jsx(TD,{})}),R.jsx(Rr,{path:"/carrito",element:R.jsx(SD,{})}),R.jsx(Rr,{path:"/checkout",element:R.jsx(kD,{})}),R.jsx(Rr,{path:"*",element:R.jsx(ID,{})})]})]})})}nh.createRoot(document.getElementById("root")).render(R.jsx(An.StrictMode,{children:R.jsx(RD,{})}));
